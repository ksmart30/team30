<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layout/main">
<th:block layout:fragment="customHead">
	<meta charset="UTF-8">
	<title>M/H 실적 입력 폼</title>
	<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
	<th:block th:include="layout/customHead"></th:block>
	<head>
	<script>
	//프로젝트명 
	function pjt(){
	$(document).ready(function(){
		console.log('프로젝트명 가져오기');
		$.ajax({
			url:'/manHour/resultWritePjtView',
			type:'GET',
			success:function(data){
				let resultWritePjtView =data;
				for(let i=0; i<resultWritePjtView.length; i++){
					$('#PJT_NM').append('<option th:text="'+resultWritePjtView[i].PJT_NM+'">'+resultWritePjtView[i].PJT_NM+'</option>')
				}
			}
		});
	});
	};
	//M/H 날짜 출력 ajax
	$(document).ready(function(){
		console.log('날짜 출력');
		$("#btn_day").click(function(){
			let work_dt_format = $('#WORK_DT').val();
			let end_dt_format = $('#WORK_DT2').val();
			let WORK_DT = work_dt_format.substr(0,4)+work_dt_format.substr(5,2)+work_dt_format.substr(8,2);
			let WORK_DT2 = end_dt_format.substr(0,4)+end_dt_format.substr(5,2)+end_dt_format.substr(8,2);
			console.log(WORK_DT +"날짜"+ WORK_DT2 +"날짜");		
			
		$.ajax({
			url:'/manHour/resultWriteDateSerachView',
	        type:'GET',
	        /* dataType:'json', */
			data:{WORK_DT:WORK_DT,WORK_DT2:WORK_DT2},
			success : (data)=> {
				$('#list').empty();
	        	console.log('리스트 출력');
	        	console.log(data);	            
	            $(data).each(function(index,item){ //each = foreach (반복문)
	                $('#list').append('<tr>');	               
	                $('#list').append('<td>'+item.EMP_NO+'</td>');
	                $('#list').append('<td>'+item.WORK_DT+'</td>'); 
	                $('#list').append('<td>'+item.PJT_CD+'</td>'); 
	                $('#list').append('<td>'+item.WORK_STEP+'</td>');
	                $('#list').append('<td>'+item.WORK_SPEC+'</td>');
	                $('#list').append('<td>'+item.DEPT_CD+'</td>');
	                $('#list').append('<td>'+item.WORK_TIME+'</td>');
	                $('#list').append('<td>'+item.ETC_SPEC+'</td>');
	                $('#list').append('<td>'+item.JIKGUP_CD+'</td>');
	                $('#list').append('<td></td>');
	                $('#list').append('</tr>'); 
	            });                   			
			}
		});
	});
	});
	</script>
	</head>
</th:block>
<th:block layout:fragment="customBody">
	<div class="col-md-9 col-xs-12" style="color:black;">
        <div class="page-title">
	<div class="title_left">
	 <h2><b>M/H 실적 입력 화면</b></h2>
	 <h5></h5>
	<h5><font color= "gray"><b>5.M/H 관리&nbsp;>&nbsp;&nbsp;5.1M/H실적입력</b></font></h5>
					
	</div>
	</div>
        </div>
        <div class="x_content" style="text-align: right">
				<div class="btn-group" >
					<button class="btn btn-default" type="reset">입력</button>
					<button class="btn btn-default" type="button">수정</button>
					<button class="btn btn-default" type="button">삭제</button>
					<button class="btn btn-default" type="button">저장</button>
					<button class="btn btn-default" type="button">출력</button>
				</div>
		
			</div>
	<div class="col-md-12">
		<form action="/manHour/resultWriteView" method="post">
		<!-- form date pickers -->
		<div class="x_panel" style="">
			<div class="x_title">
				<h2>
					<font style="vertical-align: inherit;"></font>
				</h2>				
				<div class="clearfix"></div>
			</div>
			<div class="x_content">

				<!--날짜 -->
			</div>
			
			<div class="col-md-3">
				<div
					class="daterangepicker dropdown-menu ltr single opensright show-calendar picker_3 xdisplay">
					<div class="calendar left single" style="display: block;">
						<div class="daterangepicker_input">
							<input class="input-mini form-control active" type="text"
								name="daterangepicker_start" value="" style="display: none;"><i
								class="fa fa-calendar glyphicon glyphicon-calendar"
								style="display: none;"></i>
							<div class="calendar-time" style="display: none;">
								<div></div>
								<i class="fa fa-clock-o glyphicon glyphicon-time"></i>
							</div>
						</div>				
					</div>
				</div>
				<fieldset>
					<div class="control-group">
						<div class="controls" style="color:black;">
							<p>작업일</p>
							<div style="width:330px;height:30px;" class="sorting" aria-controls="datatable-responsive" >				
								
								<input type="date" name="WORK_DT" id="AUDIT_TM2" style="width:50%;">
							</div>							
						</div>
					</div>
				</fieldset>
			</div>
			<div class="row">
				<div class="col-sm-12 table-responsive">
					<table id="datatable"
						class="table table-striped table-bordered dataTable no-footer"
						role="grid" aria-describedby="datatable_info">
						<thead style="color:black;">
							<tr role="row">
								<th class="sorting_asc" tabindex="0" aria-controls="datatable"
									rowspan="1" colspan="1" aria-sort="ascending"
									aria-label="Name: activate to sort column descending"
									style="width: 86px;"><font
										style="vertical-align: inherit;" >사원번호</font>
										
								</th>														
								<th class="sorting_asc" tabindex="0" aria-controls="datatable"
									rowspan="1" colspan="1" aria-sort="ascending"
									aria-label="Name: activate to sort column descending"
									style="width: 86px;"><font
										style="vertical-align: inherit;">PJT명</font>
								</th>								
								<th class="sorting" tabindex="0" aria-controls="datatable"
									rowspan="1" colspan="1"
									aria-label="Office: activate to sort column ascending"
									style="width: 61px;"><font
									style="vertical-align: inherit;"><font
										style="vertical-align: inherit;">작업단계</font></font>
								</th>
								<th class="sorting" tabindex="0" aria-controls="datatable"
									rowspan="1" colspan="1"
									aria-label="Age: activate to sort column ascending"
									style="width: 25px;"><font
									style="vertical-align: inherit;"><font
										style="vertical-align: inherit;">작업내용</font></font>
								</th>
							</tr>
							<tr>
												
								<td><!-- 사원번호 -->
								<div class="form-group">
									<div class="col-md-7 col-sm-12 col-xs-12">
										<input type="text" name="EMP_NO">
									</div>
								</div>
								</td>	
								
								<td> <!-- 프로젝트 코드 -->
								<div class="form-group">
									<div class="col-md-7 col-sm-12 col-xs-12">
										<select class="form-control" id="PJT_CD" name="PJT_CD">
											<option value="17001">남양지구 주택 설계용역</option>
											<option value="17002">역삼동 현상 설계 프로젝트</option>
											<option value="17003">논현동 A1 현상 프로젝트</option>
											<option value="17004">쌍용플래티넘 임대주택 공급촉진지구</option>
											<option value="17005">에스케이매직 물류센터 지구 계획</option>
											<option value="17006">아티스 사옥 신축 설계 용역</option>
											<option value="17007">역삼동 K9 근린생활 시설 기본 설계</option>
											<option value="17008">현대건설 기업형임대주택 공급촉진지구</option>																						
											<option value="17009">우리나라 임대형 주택 공급촉진지구</option>
											<option value="18001">차량관리센타신축공사</option>
											<option value="18002">원주시 아이스하키 경기장 건축설계</option>
											
										</select>	
									</div>
								</div>
								</td>	
								<!-- <td>프로젝트 코드
								<div class="form-group">
									<div class="col-md-7 col-sm-12 col-xs-12">
										<select>
											<option value="a">기획</option>
										</select>
										<input type="text" name="PJT_CD">
									</div>
								</div>
								</td>	 -->	
										
								<td> <!-- 작업단계 -->
								<div class="form-group">
									<div class="col-md-7 col-sm-12 col-xs-12">
										<select class="form-control" id="WORK_STEP" name="WORK_STEP">
											<option value="A">기획</option>
											<option value="B">심의</option>
											<option value="C">허가</option>
											<option value="D">착공</option>
											<option value="E">실시</option>
											<option value="F">A/S</option>
											<option value="G">준공</option>
											<option value="Z">기타</option>																						
										</select>	
									</div>
								</div>
								</td>			
								<!-- <td> 작업단계
								<div class="form-group">
									<div class="col-md-7 col-sm-12 col-xs-12">
										<input type="text" name="WORK_STEP">
									</div>
								</div>
								</td> -->
								
								<td> <!-- 작업내용 -->
								<div class="form-group">
									<div class="col-md-7 col-sm-12 col-xs-12">
										<input type="text" name="WORK_SPEC">
									</div>
								</div>
								</td>	
								
							</tr>
							
							<tr>												
								<th class="sorting" tabindex="0" aria-controls="datatable"
									rowspan="1" colspan="1"
									aria-label="Start date: activate to sort column ascending"
									style="width: 30px;"><font
									style="vertical-align: inherit;"><font
										style="vertical-align: inherit;">부서</font></font>
								</th>
								<th class="sorting" tabindex="0" aria-controls="datatable"
									rowspan="1" colspan="1"
									aria-label="Start date: activate to sort column ascending"
									style="width: 30px;"><font
									style="vertical-align: inherit;"><font
										style="vertical-align: inherit;">작업시간</font></font>
								</th>
								<th class="sorting" tabindex="0" aria-controls="datatable"
									rowspan="1" colspan="1"
									aria-label="Start date: activate to sort column ascending"
									style="width: 30px;"><font
									style="vertical-align: inherit;"><font
										style="vertical-align: inherit;">상세 내용</font></font>
								</th>
								<th class="sorting" tabindex="0" aria-controls="datatable"
									rowspan="1" colspan="1"
									aria-label="Start date: activate to sort column ascending"
									style="width: 30px;"><font
									style="vertical-align: inherit;"><font
										style="vertical-align: inherit;">직급</font></font>
								</th>
							</tr>
							<tr>
								<td> <!-- 부서코드 -->
								<div class="form-group">
									<div class="col-md-7 col-sm-12 col-xs-12">
										<select class="form-control" id="DEPT_CD" name="DEPT_CD">
											<option value="1000">경영부문</option>
											<option value="1100">경영지원본부</option>
											<option value="1110">경영지원실</option>
											<option value="9200">기술연구소</option>
											<option value="10">대표이사</option>
											<option value="20">사장실</option>
											<option value="7500">설계1본부</option>
										</select>
									</div>
								</div>
								</td>								
								<!-- <td> 부서코드
								<div class="form-group">
									<div class="col-md-7 col-sm-12 col-xs-12">
										<input type="text" name="DEPT_CD">
									</div>
								</div>
								</td>		 -->						
								<td> <!-- 작업시간 -->
								<div class="form-group">
									<div class="col-md-7 col-sm-12 col-xs-12">
										<input type="text" name="WORK_TIME">
									</div>
								</div>
								</td>
								<td> <!-- 상세내용 -->
								<div class="form-group">
									<div class="col-md-7 col-sm-12 col-xs-12">
										<input type="text" name="ETC_SPEC">
									</div>
								</div>
								</td>
								
								<td> <!-- 직급코드 -->
								<div class="form-group">
									<div class="col-md-7 col-sm-12 col-xs-12">
										<select class="form-control" id="JIKGUP_CD" name="JIKGUP_CD">
											<option value="100">회장</option>
											<option value="105">부회장</option>
											<option value="110">대표이사</option>
											<option value="111">사장</option>
											<option value="115">부사장</option>
											<option value="140">전무</option>
											<option value="150">상무</option>
											<option value="260">이사</option>
											<option value="410">실장</option>
											<option value="510">팀장</option>
											<option value="610">대리</option>
											<option value="710">사원</option>
											<option value="810">인턴사원</option>
											<option value="820">촉탁사원</option>
											<option value="910">계약직</option>
											<option value="21">대표</option>
											<option value="30">부문장</option>
											<option value="40">본부장</option>
											<option value="41">본부장(직무대행)</option>
											<option value="50">실장</option>
											<option value="51">소장</option>
											<option value="52">소장(직무대행)</option>
											<option value="60">직원</option>
											<option value="70">감사</option>
											<option value="75">고문</option>
											<option value="80">임원</option>
											<option value="90">연구원</option>
											<option value="95">별정직</option>
											
											
																																	
										</select>	
									</div>
								</div>
								</td>	
								<!-- <td> 직급코드
								<div class="form-group">
									<div class="col-md-7 col-sm-12 col-xs-12">
										<input type="text" name="JIKGUP_CD">
									</div>
								</div>
								</td> -->
							</tr>							
						</thead>		
								<!-- <td class=""><font style="vertical-align: inherit;">ㅇㅇ</font></td> -->
						</tbody>

					</table>
				</div>
			</div>

			<div class="ln_solid"></div>

			<div class="row">
				<div class="col-sm-12" style="color:black;">
					<table id="datatable"
						class="table table-striped table-bordered dataTable no-footer"
						role="grid" aria-describedby="datatable_info">
						<thead>
							<tr role="row">
								<th class="sorting_asc" tabindex="0" aria-controls="datatable"
									rowspan="1" colspan="1" aria-sort="ascending"
									aria-label="Name: activate to sort column descending"
									style="width: 86px;"><font
									style="vertical-align: inherit;"><font
										style="vertical-align: inherit;">이름</font></font></th>
								<th class="sorting" tabindex="0" aria-controls="datatable"
									rowspan="1" colspan="1"
									aria-label="Position: activate to sort column ascending"
									style="width: 800px;"><font
									style="vertical-align: inherit;"><font
										style="vertical-align: inherit;"></font></font></th>
							</tr>
						</thead>
						<tbody>
							<tr role="row" class="odd">
								<td class=""><font style="vertical-align: inherit;"><font
										style="vertical-align: inherit;">일정</font></font></td>
								<td class=""><font style="vertical-align: inherit;"><font
										style="vertical-align: inherit;"></font></font></td>
							</tr>
						</tbody>
						<tbody>
							<tr role="row" class="odd">
								<td class=""><font style="vertical-align: inherit;"><font
										style="vertical-align: inherit;">주간 목표</font></font></td>
								<td class=""><font style="vertical-align: inherit;"><font
										style="vertical-align: inherit;"></font></font></td>
							</tr>
						</tbody>
						<tbody>
							<tr role="row" class="odd">
								<td class=""><font style="vertical-align: inherit;"><font
										style="vertical-align: inherit;">주간 계획</font></font></td>
								<td class=""><font style="vertical-align: inherit;"><font
										style="vertical-align: inherit;"></font></font></td>
							</tr>
						</tbody>
						<tbody>
							<tr role="row" class="odd">
								<td class=""><font style="vertical-align: inherit;"><font
										style="vertical-align: inherit;">M/H 합계</font></font></td>
								<td class=""><font style="vertical-align: inherit;"><font
										style="vertical-align: inherit;"></font></font></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<div class="form-group">
				<div class="col-md-6 col-md-offset-3">					
					<button type="submit" class="btn btn-success">
						<font style="vertical-align: inherit;">제출</font>
					</button>
				</div>

			</div>
		</div>	
	</form>
</div>
	
	<div class="row">
			<div class="col-md-12 col-sm-12 col-xs-12 " style="color:black;">
				<div class="x_panel">
					<div class="x_title">
						<h2>
							<font style="vertical-align: inherit;"><font
								style="vertical-align: inherit;">M/H실적 리스트(개인) </font></font>
						</h2>
						<ul class="nav navbar-right panel_toolbox">
							<li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
							</li>
							<li class="dropdown"><a href="#" class="dropdown-toggle"
								data-toggle="dropdown" role="button" aria-expanded="false"><i
									class="fa fa-wrench"></i></a>
								<ul class="dropdown-menu" role="menu">
									<li><a href="#">Settings 1</a></li>
									<li><a href="#">Settings 2</a></li>
								</ul></li>
							<li><a class="close-link"><i class="fa fa-close"></i></a></li>
						</ul>
						<div class="clearfix"></div>
					</div>
					<div class="x_content">
						<p class="text-muted font-13 m-b-30">
							<font style="vertical-align: inherit;"></font>
						</p>
						<div id="datatable_wrapper"
							class="dataTables_wrapper form-inline dt-bootstrap no-footer">
							<div class="row">
								<div class="col-sm-6">
									<div class="dataTables_length" id="datatable_length">
										<label></label>
									</div>
								</div>
								<div class="col-sm-6">
									<div id="datatable_filter" class="dataTables_filter">
										<label>
										<input type="date" name="WORK_DT" id="WORK_DT">
										<input type="date" name="WORK_DT2" id="WORK_DT2">
										<button type="button" style="color:black" id="btn_day">검색</button>
										<!-- <input type="search" class="form-control input-sm" placeholder="" aria-controls="datatable"> -->
										</label>
									</div>
								</div>
							</div>
							<table class="table table-striped jambo_table bulk_action">
                        <thead>
                          <tr class="headings">
                            <th class="column-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">사원번호</font></font></th>                          
                            <th class="column-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">작업일자 </font></font></th>
                            <th class="column-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PJT명</font></font></th>
                            <th class="column-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">작업단계 </font></font></th>
                            <th class="column-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">작업내용</font></font></th>
                            <th class="column-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">부서 </font></font></th>
                            <th class="column-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">작업시간 </font></font></th>
                            <th class="column-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">상세내용</font></font></th>
                            <th class="column-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">직급 </font></font></th>                                                                              
                            <th class="bulk-actions" colspan="7">
                              <a class="antoo" style="color:#fff; font-weight:500;">Bulk Actions ( <span class="action-cnt"> </span> ) <i class="fa fa-chevron-down"></i></a>
                            </th>
                          </tr>
                        </thead>

                        <tbody id = "list">
                        	 <tr th:each="l : ${list}" style="color:black;">		                       
		                        <td th:text="${l.EMP_NO}"></td>
		                        <td th:text="${l.WORK_DT}"></td>
		                        <td th:text="${l.PJT_CD}"></td>
		                        <td th:text="${l.WORK_STEP}"></td>
		                        <td th:text="${l.WORK_SPEC}"></td>
		                        <td th:text="${l.DEPT_CD}"></td>
		                        <td th:text="${l.WORK_TIME}"></td>
		                        <td th:text="${l.ETC_SPEC}"></td>
		                        <td th:text="${l.JIKGUP_CD}"></td>		                     		                                                           
		                      </tr>		                                                                                                                                                                                       
                        </tbody>                                                                         
                      </table>							
						</div>
					</div>
				</div>
			</div>
		</div>
</th:block>
<th:block layout:fragment="customJquery">
		<th:block th:include="layout/customJquery"></th:block>
    </th:block>
</html>
