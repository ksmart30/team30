<!-- 근태현황(일, 월) -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="layout/main">
	<th:block layout:fragment="customHead">
		<meta charset="UTF-8">
		<title>근태현황</title>
		<th:block th:include="layout/customHead"></th:block>
		<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script>
	$(document).ready(function(){
		 console.log('근태현황list 출력해보자');	
		//검색버튼 클릭 시 근태현황 출력
		 $('#btn_list').click(function(){
			 let FRDATE =$('#FRDATE').val();
			 let TODATE =$('#TODATE').val();
			 let DEPT_CD =$('#DEPT_CD').val();
			 $.ajax({				
					url:'/kuntae/searchView2',
					type:'GET',
					data:{FRDATE:FRDATE,TODATE:TODATE,DEPT_CD:DEPT_CD},
					success:(data)=>{
						
						$('#list').empty();
						
						console.log("나와라"+data);
						$(data).each(function(index,item){
								
													
							$('#list').append('<tr>');	
							$('#list').append('<td>'+item.DEPT_NM+'</td>');
							$('#list').append('<td>'+item.JIKGUP_NM+'</td>');
							$('#list').append('<td>'+item.KOR_NM+'</td>');
							$('#list').append('<td>'+item.JIGAK+'</td>');
							$('#list').append('<td>'+item.KYULGUN1+'</td>');
							$('#list').append('<td>'+item.KYULGUN2+'</td>');
							$('#list').append('<td>'+item.SAYU_NM+'</td>');
							$('#list').append('<td>'+item.HOLI_WORK+'</td>');
							$('#list').append('<td>'+item.YEARLY_DAY+'</td>');
							
							$('#list').append('<td>'+item.HOLI_1+'</td>');
							$('#list').append('<td>'+item.HOLI_2+'</td>');
							$('#list').append('<td>'+item.HOLI_3+'</td>');
							$('#list').append('<td>'+item.HOLI_4+'</td>');
							$('#list').append('<td>'+item.HOLI_5+'</td>');
							$('#list').append('<td>'+item.HOLI_6+'</td>');
							$('#list').append('<td>'+item.HOLI_7+'</td>');

							$('#list').append('<td>'+item.KYUL_TOT+'</td>');
							$('#list').append('<td>'+item.YEARLY_CHA+'</td>');
							

							$('#list').append('</tr>');							
						});
					}					
			 }); 				
		 });
		

	});
	
	
	</script>
	
	
	
	</th:block>
	<th:block layout:fragment="customBody">
	
	

          <div class="">
            <div class="page-title">
              <div class="title_left">
                <h3>근태관리 <small><a href="/kuntae/search">월근태현황</a></small></h3>
              </div>

              <div class="title_right">
                <div class="col-md-5 col-sm-5 col-xs-12 form-group pull-right top_search">
                  <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search for...">
                    <span class="input-group-btn">
                      <button class="btn btn-default" type="button">Go!</button>
                    </span>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="col-md-12 col-sm-12 col-xs-12">
			<div class="x_panel">
				<button type="button" class="btn" style="color:black" id="btn_list">검색</button>
				

				<table class="table">
					<tbody>

						<tr>
							<th>년월</th>
							<td>
								<div class="col-md-7 col-sm-12 col-xs-12 form-group">
									<input type="month" name="FRDATE" id="FRDATE">
								</div>
							</td>
							<td>
								<div class="col-md-7 col-sm-12 col-xs-12 form-group">
									<input type="month" name="TODATE" id="TODATE">
								</div>
							</td>
							
							<th>부서코드</th>
							<td>
								<th class="sorting_asc" aria-controls="datatable-responsive" aria-sort="ascending">
									
								</th>
								<th class="sorting" aria-controls="datatable-responsive">
									<input type="text" name="DEPT_CD" id="DEPT_CD" >
								</th>
							</td>	
						</tr>
					</tbody>
				</table>
				</div>
				</div>
            

            <div class="clearfix"></div>

            <div class="row">
              <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_title">
                   
                    
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">
                    <!-- <p class="text-muted font-13 m-b-30">
                      DataTables has most features enabled by default, so all you need to do to use it with your own tables is to call the construction function: <code>$().DataTable();</code>
                    </p> -->
                    <table id="datatable-checkbox" class="table table-striped table-bordered bulk_action">
                      <thead>
                        <tr>                         
                          <th>부서명</th>
                          <th>직급</th>
                          <th>성명</th>
                          <th>지각</th>
                          <th>사고계제출</th>
                          <th>무단결근</th>
                          <th>결근사유</th>
                          <th>휴일근무일수</th>
                          <th>연차휴가발생</th>
                          <th>휴가</th>
                          <th>경조</th>
                          <th>철야</th>
                          <th>공상</th>
                          <th>포상</th>
                          <th>출산</th>
                          <th>휴직</th>
                          <th>무단결근</th>
                          <th>잔여 휴가일수</th>
                        </tr>
                      </thead>


                      <tbody id="list">
                        

                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
             </div>
			</div>

	</th:block>
	<th:block layout:fragment="customJquery">
		<th:block th:include="layout/customJquery"></th:block>
    </th:block>
</html>