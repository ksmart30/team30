<!-- 근태승인처리 -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="layout/main">
	<th:block layout:fragment="customHead">
		<meta charset="UTF-8">
		<title>근태승인처리</title>
		<th:block th:include="layout/customHead"></th:block>
	<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	
	
    <script>
    $(document).ready(function(){
    	console.log('근태승인처리 검색 list 출력하자');
    	$('#btn_list').click(function(){
    		let FRDATE =$('#FRDATE').val();
			 let TODATE =$('#TODATE').val();
			 let CONFIRM_YN =$('#CONFIRM_YN').val();
			 let APP_GB =$('#APP_GB').val();
			 let DEPT_CD =$('#DEPT_CD').val();
			 let EMP_NM =$('#EMP_NM').val();
			 $.ajax({				
					url:'/kuntae/okSearchView',
					type:'GET',
					data:{FRDATE:FRDATE,TODATE:TODATE,CONFIRM_YN:CONFIRM_YN,APP_GB:APP_GB,DEPT_CD:DEPT_CD,EMP_NM:EMP_NM},
					success:(data)=>{
						console.log("나와라"+data);	
						$('#list').empty();
						
						console.log("실행확인");
						$(data).each(function(index,item){

								$('#list').append('<tr >');	
								$('#list').append('<td width="70">'+item.APP_DATE+'</td>');
								$('#list').append('<td width="50">'+item.APP_NM+'</td>');
								$('#list').append('<td width="100">'+item.DEPT_NM+'</td>');
								$('#list').append('<td width="50">'+item.JIKGUP_NM+'</td>');
								$('#list').append('<td width="70">'+item.EMP_NM+'</td>');
								$('#list').append('<td>'+item.CONFIRM_YN+'</td>');
								$('#list').append('<td width="70">'+item.APP_DATE1+'</td>');
								$('#list').append('<td width="70">'+item.APP_DATE2+'</td>');
								$('#list').append('<td width="50">'+item.TERM+'</td>');
								$('#list').append('<td width="100">'+item.APP_RMK+'</td>');
								$('#list').append('<td>'+item.PJT_NM+'</td>');
								$('#list').append('<td>'+item.APP_PLACE+'</td>');
								$('#list').append('<td>'+item.APP_BIGO+'</td>');

								$('#list').append('</tr>');	
						

						});
						
					}					
			 }); 				
		 });
    });
    
    
    </script>
    
    </th:block>
	<th:block layout:fragment="customBody">
	<head>
  	</head>
		<div class="col-md-12 col-xs-12" style="color: black;">
		<div class="page-title">
	
	<div class="title_left">
					
		<h2><b>근태승인처리</b></h2>
		<h5><font color="gray"><b>4.근태 관리</b></font></h5>
		
	</div>
	</div>




<!-- 2 -->

<div class="x_panel" style="">
   	
    <div class="x_title">
        <h2>기본내역 </h2>
	   <!-- 박스내의 상단 -->
	   <div class="clearfix"></div>
    </div>
    
    
    
    <div class="x_content">
<table class="table table-bordered dt-responsive nowrap dataTable no-footer dtr-inline collapsed" id="personSearch_table"role="grid" aria-describedby="datatable-responsive_info" >
       
       <div class="col-sm-4">
               
				<div class="form-group" >
				<h4 style="color:black">⊙ 승인여부</h4>
				<div class="radio" >
					<label>
					  <input type="radio" id="CONFIRM_YN" value="1" name="">승인
					</label>
					<label>
					  <input type="radio" value=""  name=""> 미승인
					</label>
					<label>
					  <input type="radio" value="2"  name=""> All
					</label>
				</div>   	
				</div>
				
		</div>
       
       
		<tr role="row" >
			<th class="sorting_asc" aria-controls="datatable-responsive" aria-sort="ascending">
									&nbsp;신청일자
								</th>
								<th class="sorting" aria-controls="datatable-responsive">
									<input type="date" name="FRDATE" id="FRDATE" style="width:50%;">
								</th>
								
								<th class="sorting_asc" aria-controls="datatable-responsive" aria-sort="ascending">
									&nbsp;~
								</th>
								<th class="sorting" aria-controls="datatable-responsive">
									<input type="date" name="TODATE" id="TODATE" style="width:50%;">
								</th>
		</tr>
		
</table>		   
<table>
	
	
	
	      



	<div class="col-sm-3" >
						<label>부서명
							<select id="DEPT_CD" aria-controls="datatable-keytable" class="form-control input-sm">
							<option></option>
							<th:block th:each="deptCd : ${result}">
							
										<option th:value="${deptCd.DEPT_CD}">[[${deptCd.DEPT_NM}]]</option>
										
											
											
											
							</th:block>
							
							</select>
						</label>
	</div>
	<div class="col-sm-3" >
						<label>근태구분
							<select id="APP_GB" aria-controls="datatable-keytable" class="form-control input-sm">
							
							<th:block th:each="appGb : ${result2}">
							
										<option th:value="${appGb.APP_GB}">[[${appGb.APP_NM}]]</option>
										
											
											
											
							</th:block>
							
							</select>
						</label>
	</div>
	<div class="col-sm-3">
		<label class="control-label">사원명</label><br>
		<input type="text" id=EMP_NM>
   	</div>	
   	<div class="col-sm-4">
   	<button type="button" class="btn" style="color:black" id="btn_list">검색</button>
	</div>
</table>		
</div>
        </div>
            <div class="clearfix"></div>

            <div class="row">
              <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_title">
                    <h2>근태승인처리</h2>
                    
                    <div class="clearfix"></div>
                  </div>
                  
                  <div class="x_content">
                    
                    <table  id="datatable-checkbox" class="table table-striped jambo_table bulk_action" style="text-align:center">
                      <thead>
                        <tr >
                          <th rowspan="2">신청일자</th>
                          <th rowspan="2">근태구분</th>
                          <th rowspan="2">부서</th>
                          <th rowspan="2">직급</th>
                          <th rowspan="2">성명</th>
                          <th rowspan="2">승인</th>
                          <th colspan="3">기간</th>
                          <th rowspan="2">사유</th>
                          <th rowspan="2">프로젝트</th>
                          <th rowspan="2">행선지</th>
                          <th rowspan="2">비고</th>
                        </tr>
                        
                        <tr>
                          <th>From</th>
                          <th>To</th>
                          <th>일수</th>
                        </tr>
                      </thead>


                      <tbody id="list" >
                        
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
             </div>          
</div>


 <!-- 승인 modal -->

<div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-hidden="true" id="ok">
   <div class="modal-dialog">
     <div class="modal-content">
       <div class="modal-header">
         <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span>
         </button>
         <h4 class="modal-title" id="myModalLabel2">승인하시겠습니까?</h4>
       </div>
       <form action="/#" method="get">
			        <div class="modal-body">ID : <input type="text" name="profit" value=""></div>
			        <div class="modal-body">PW : <input type="text" name="pay" value=""></div>
       <div class="modal-footer">
         <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
         <button type="submit" class="btn btn-success" >Save changes</button>
       </div>
       </form>
     </div>
   </div>
 </div>		                 
<!-- / 승인 modals -->


<!-- 사원번호 modal -->

<div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-hidden="true" id="no">
   <div class="modal-dialog">
     <div class="modal-content">
       <div class="modal-header">
         <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span>
         </button>
         <h4 class="modal-title" id="myModalLabel2">사원번호 검색</h4>
       </div>
       <form action="/#" method="get">
			        <div class="modal-body">번호 : <input type="text" name="profit" value=""></div>
			        <div class="modal-body">번호 : <input type="text" name="pay" value=""></div>
       <div class="modal-footer">
         <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
         <!-- <button type="submit" class="btn btn-success" >Save changes</button> -->
       </div>
       </form>
     </div>
   </div>
 </div>		                 
<!-- / 사원번호 modals -->






			
	    <!-- jQuery -->
	    <script src="/vendors/jquery/dist/jquery.min.js"></script>
	    <!-- bootstrap-daterangepicker -->
	    <script src="/vendors/moment/min/moment.min.js"></script>
	    <script src="/vendors/bootstrap-daterangepicker/daterangepicker.js"></script>
	    <!-- bootstrap-datetimepicker -->    
	    <script src="/vendors/bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js"></script>

			
	    <!-- Initialize datetimepicker -->
		<script>
		    $('#myDatepicker').datetimepicker();
		    
		    $('#myDatepicker2').datetimepicker({
		        format: 'DD.MM.YYYY'
		    });
		    
		    $('#myDatepicker3').datetimepicker({
		        format: 'hh:mm A'
		    });
		    
		    $('#myDatepicker4').datetimepicker({
		        ignoreReadonly: true,
		        allowInputToggle: true
		    });
		
		    $('#datetimepicker6').datetimepicker();
		    
		    $('#datetimepicker7').datetimepicker({
		        useCurrent: false
		    });
		    
		    $("#datetimepicker6").on("dp.change", function(e) {
		        $('#datetimepicker7').data("DateTimePicker").minDate(e.date);
		    });
		    
		    $("#datetimepicker7").on("dp.change", function(e) {
		        $('#datetimepicker6').data("DateTimePicker").maxDate(e.date);
		    });
		</script>
			
	</th:block>
	<th:block layout:fragment="customJquery">
		<th:block th:include="layout/customJquery"></th:block>
    </th:block>	
</html>