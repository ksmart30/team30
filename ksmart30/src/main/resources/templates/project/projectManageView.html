<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="layout/main">
	<th:block layout:fragment="customHead">
		<meta charset="UTF-8">
		<title>용역계약서 입력</title>
		<th:block th:include="layout/customHead"></th:block>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script src="http://dmaps.daum.net/map_js_init/postcode.v2.js"></script>
		<script>
		// 우편번호 및 주소 검색
		function sample6_execDaumPostcode() {
	        new daum.Postcode({
	            oncomplete: function(data) {
	                // 팝업에서 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.
	
	                // 각 주소의 노출 규칙에 따라 주소를 조합한다.
	                // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
	                var addr = ''; // 주소 변수
	                var extraAddr = ''; // 참고항목 변수
	
	                //사용자가 선택한 주소 타입에 따라 해당 주소 값을 가져온다.
	                if (data.userSelectedType === 'R') { // 사용자가 도로명 주소를 선택했을 경우
	                    addr = data.roadAddress;
	                } else { // 사용자가 지번 주소를 선택했을 경우(J)
	                    addr = data.jibunAddress;
	                }
	
	                // 사용자가 선택한 주소가 도로명 타입일때 참고항목을 조합한다.
	                if(data.userSelectedType === 'R'){
	                    // 법정동명이 있을 경우 추가한다. (법정리는 제외)
	                    // 법정동의 경우 마지막 문자가 "동/로/가"로 끝난다.
	                    if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)){
	                        extraAddr += data.bname;
	                    }
	                    // 건물명이 있고, 공동주택일 경우 추가한다.
	                    if(data.buildingName !== '' && data.apartment === 'Y'){
	                        extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
	                    }
	                    // 표시할 참고항목이 있을 경우, 괄호까지 추가한 최종 문자열을 만든다.
	                    if(extraAddr !== ''){
	                        extraAddr = ' (' + extraAddr + ')';
	                    }
	                    // 조합된 참고항목을 해당 필드에 넣는다.
	                    document.getElementById("sample6_extraAddress").value = extraAddr;
	                
	                } else {
	                    document.getElementById("sample6_extraAddress").value = '';
	                }
	                // 우편번호와 주소 정보를 해당 필드에 넣는다.
	                $('#ZIP_CD_ONE').empty();
	                $('#ZIP_CD_ONE').val(data.zonecode);
	                $('#PJT_ADDR_ONE').empty();
	               	$('#PJT_ADDR_ONE').append(addr);
	                // 커서를 상세주소 필드로 이동한다.
	                //document.getElementById("sample6_detailAddress").focus();
				}
			}).open();
		}
		
		// 숫자 단위에 콤마를 넣는 정규식
	    function numberWithCommas(x) {
	        return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
	    }
		
		// 대지면적 -> 평 자동 계산
		function areaP() {
			if($('#G_AREA_M_ONE').val() || 0) {
				let areaP = $('#G_AREA_M_ONE').val() / 3.305785;
				// 소수점 4번째 자리에서 자르고 반올림
				$('#G_AREA_P_ONE').val(areaP.toFixed(4));
			}
		}
		// 연면적 -> 평 자동 계산
		function yareaP() {
			if($('#G_YAREA_M_ONE').val() || 0) {
				let yareaP = $('#G_YAREA_M_ONE').val() / 3.305785;
				// 소수점 4번째 자리에서 자르고 반올림
				$('#G_YAREA_P_ONE').val(yareaP.toFixed(4));
			}
		}
		
		// 모달에서 프로젝트 선택
		function modalPjtOneBtn(PJT_CD, PJT_NM) {
			console.log('프로젝트 모달 선택완료!');
			console.log(PJT_CD);
			console.log(PJT_NM);
			$('#PJT_CD_VAL').empty();
			$('#PJT_CD_VAL').attr('value', PJT_CD);
			$('#PJT_NM_VAL').empty();
			$('#PJT_NM_VAL').append(PJT_NM);
			$('#pjtModalExit').click();
		}
		
		// 모달에서 발주처 선택
		function modalCustOneBtn(CUST_CD, CUST_NM) {
			console.log('발주처 모달 선택완료!');
			console.log(CUST_CD);
			console.log(CUST_NM);
			$('#CUST_CD_VAL').empty();
			$('#CUST_CD_VAL').attr('value', CUST_CD);
			$('#CUST_NM_VAL').empty();
			$('#CUST_NM_VAL').attr('value', CUST_NM);
			$('#custModal').click();
		}
		
		// 모달에서 부서 선택
		function modalDeptOneBtn(DEPT_CD, DEPT_NM) {
			console.log('부서 모달 선택완료!');
			console.log(DEPT_CD);
			console.log(DEPT_NM);
			$('#DEPT_CD_ONE').empty();
			$('#DEPT_CD_ONE').attr('value', DEPT_CD);
			$('#DEPT_NM_ONE').empty();
			$('#DEPT_NM_ONE').append(DEPT_NM);
			$('#deptModalExit').click();
		}
		
		// 모든 칸에 입력된 값 초기화 메서드
		function reset() {
			$('#PJT_CD_ONE').empty();
			$('#PJT_NM_ONE').empty();
			$('#CRT_DATE_ONE').empty();	
			$('#PJT_SEQ_ONE').empty();
			$('#CONTRACT_DATE_ONE').empty();	
			$('#CONTRACT_PRI1_ONE').empty();
			$('#CONTRACT_PRI2_ONE').empty();
			$('#G_AREA_M_ONE').empty();	
			$('#G_AREA_P_ONE').empty();
			$('#G_YAREA_M_ONE').empty();
			$('#G_YAREA_P_ONE').empty();
			$('#PYUNG_DAN_ONE').empty();
			$('#TOT_CONTRACT_AMT_ONE').empty();
			$('#PJT_CONTRACT_AMT_ONE').empty();
			$('#CHANGE_AMT_ONE').empty();
			$('#BALANCE_AMT_ONE').empty();
			$('#OWNER_LIST_ONE').empty();
			$('#N_RATE_SUM').empty();
			$('#CONTRACT_AMT_SUM').empty();
			$('#GISEONG_LIST_ONE').empty();
			$('#RM_AMT_SUM').empty();
			$('#SUGUM_RATE_SUM').empty();
			$('#PJT_CONTRACT_AMT_ONE_SEBU').empty();
			$('#DONG_SU_ONE').empty();
			$('#HOUSE_SU_ONE').empty();
			$('#B_UP_SU_ONE').empty();
			$('#B_DOWN_SU_ONE').empty();
			$('#PM_EMP_NO_ONE').empty();
			$('#PM_EMP_NO_NM_ONE').empty();
			$('#EMP_NO_ONE').empty();
			$('#EMP_NO_NM_ONE').empty();
			$('#MARKET_MAN_ONE').empty();
			$('#MARKET_MAN_NM_ONE').empty();
			$('#INFO_EMP_NO_ONE').empty();
			$('#INFO_EMP_NO_NM_ONE').empty();
			$('#PJT_E_DATE_ONE').empty();
			$('#BREAK_AMT_ONE').empty();
			$('#PJT_NIC_ONE').empty();
			$('#PJT_ADDR_ONE').empty();
			$('#ZIP_CODE_ONE').empty();
			$('#reset').trigger("click");
		}
		
		// 프로젝트 하나 선택시 상세내역 출력
		function pjtOneBtn(PJT_CD) {
			console.log(PJT_CD);
			$.ajax({
				url:'/project/projectManageSangseProcess',
				type:'POST',
				data:{PJT_CD:PJT_CD},
				success:function(data){
					console.log(data);
					// 종합코드 출력
					if(data.sangse != null) {
						// 프로젝트 코드
						$('#PJT_CD_ONE').empty();
						$('#PJT_CD_ONE').append(data.sangse.PJT_CD);
						$('#PJT_NM_ONE').empty();			// 프로젝트 명
						$('#PJT_NM_ONE').append(data.sangse.PJT_NM);
						$('#CRT_DATE_ONE').empty();			// 계약서등록일
						$('#CRT_DATE_ONE').append('계약서등록일 : '+data.sangse.CRT_DATE.substring(0,4)+'-'+data.sangse.CRT_DATE.substring(4,6)+'-'+data.sangse.CRT_DATE.substring(6,8));
						if(data.seq.PJT_SEQ>0) {
							$('#PJT_SEQ_ONE').empty();
							$('#PJT_SEQ_ONE').append(', 총 '+data.seq.PJT_SEQ+'회 변경');
						}
						// 기본사항
						$('#CONTRACT_DATE_ONE').empty();	// 계약일자
						let CONTRACT_DATE_ONE = data.sangse.CONTRACT_DATE.substring(0,4)+'-'+data.sangse.CONTRACT_DATE.substring(4,6)+'-'+data.sangse.CONTRACT_DATE.substring(6,8);
						$('#CONTRACT_DATE_ONE').append(CONTRACT_DATE_ONE);
						console.log('에어컨온당 : '+CONTRACT_DATE_ONE);
						$('#CONTRACT_PRI1_ONE').empty();	// 계약기간(시작)
						$('#CONTRACT_PRI1_ONE').append(data.sangse.CONTRACT_PRI1);
						$('#CONTRACT_PRI2_ONE').empty();	// 계약기간(끝)
						$('#CONTRACT_PRI2_ONE').append(data.sangse.CONTRACT_PRI2);
						// 종료단서
						$('#CONTRACT_PRI3_ONE').attr('value', data.sangse.CONTRACT_PRI3);
							$('select[id=CONTRACT_PRI3_ONE]').val(data.sangse.CONTRACT_PRI3);
						// 수행부서 코드
						$('#DEPT_CD_ONE').attr('value', data.sangse.DEPT_CD);
						// 수행부서 이름
						$('#DEPT_NM_ONE').empty();
						$('#DEPT_NM_ONE').append(data.sangse.DEPT_NM);
						// 건축물 유형
						$('#BUILD_TYPE_ONE').attr('value', data.sangse.BUILD_TYPE);
							$('select[id=BUILD_TYPE_ONE]').val(data.sangse.BUILD_TYPE);
						$('#G_AREA_M_ONE').empty();			// 대지면적_M
						$('#G_AREA_M_ONE').attr('value', numberWithCommas(data.sangse.G_AREA_M));
						$('#G_AREA_P_ONE').empty();			// 대지면적_P
						$('#G_AREA_P_ONE').attr('value', numberWithCommas(data.sangse.G_AREA_M));
						$('#G_YAREA_M_ONE').empty();		// 연면적_M
						$('#G_YAREA_M_ONE').attr('value', numberWithCommas(data.sangse.G_YAREA_M));
						$('#G_YAREA_P_ONE').empty();		// 연면적_P
						$('#G_YAREA_P_ONE').attr('value', numberWithCommas(data.sangse.G_YAREA_P));
						$('#PYUNG_DAN_ONE').empty();		// 평당단가
						$('#PYUNG_DAN_ONE').attr('value', numberWithCommas(data.sangse.PYUNG_DAN));
						$('#TOT_CONTRACT_AMT_ONE').empty();	// 당사 총계약액
						$('#TOT_CONTRACT_AMT_ONE').attr('value', numberWithCommas(data.sangse.TOT_CONTRACT_AMT));
						$('#PJT_CONTRACT_AMT_ONE').empty();	// PJT 총계약액
						$('#PJT_CONTRACT_AMT_ONE').attr('value', numberWithCommas(data.sangse.PJT_CONTRACT_AMT));
						$('#CHANGE_AMT_ONE').empty();		// 변경가감액
						$('#CHANGE_AMT_ONE').attr('value', numberWithCommas(data.sangse.CHANGE_AMT));
						$('#BALANCE_AMT_ONE').empty();		// 매출잔액
						$('#BALANCE_AMT_ONE').attr('value', numberWithCommas(data.sangse.BALANCE_AMT));
						// 부가세여부
						$('#SURTAX_ONE').attr('value', data.sangse.SURTAX);
							$('select[id=SURTAX_ONE]').val(data.sangse.SURTAX);
						// 프로젝트 하나 선택시 발주처 리스트 출력
						pjtOwnerList(PJT_CD);
						// 프로젝트 하나 선택시 기성단계 리스트 출력
						pjtGiseongList(PJT_CD)
						// 세부사항
						$('#PJT_CONTRACT_AMT_ONE_SEBU').empty();		// 프로젝트 총계약액
						$('#PJT_CONTRACT_AMT_ONE_SEBU').append(numberWithCommas(data.sangse.PJT_CONTRACT_AMT));
						$('#DONG_SU_ONE').empty();						// 동수
						$('#DONG_SU_ONE').attr('value', data.sangse.DONG_SU);
						$('#HOUSE_SU_ONE').empty();						// 세대수
						$('#HOUSE_SU_ONE').attr('value', data.sangse.HOUSE_SU);
						$('#B_UP_SU_ONE').empty();						// 지상층수
						$('#B_UP_SU_ONE').attr('value', data.sangse.B_UP_SU);
						$('#B_DOWN_SU_ONE').empty();					// 지하층수
						$('#B_DOWN_SU_ONE').attr('value', data.sangse.B_DOWN_SU);
						// 건축물구조
						$('#BUILD_STRUCT_ONE').attr('value', data.sangse.BUILD_STRUCT);
							$('select[id=BUILD_STRUCT_ONE]').val(data.sangse.BUILD_STRUCT);
						// 대지위치
						$('#ZIP_CD_ONE').empty();						// 우편번호
						$('#ZIP_CD_ONE').attr('value', data.sangse.ZIP_CD);
						$('#PJT_ADDR_ONE').empty();						// 주소
						$('#PJT_ADDR_ONE').append(data.sangse.PJT_ADDR);
						// 지역1
						$('#REGION_ONE1').attr('value', data.sangse.REGION);
							$('select[id=REGION_ONE1]').val(data.sangse.REGION);	
						// 지역2
						$('#REGION2_ONE').attr('value', data.sangse.REGION2);
							$('select[id=REGION2_ONE]').val(data.sangse.REGION2);
						// 지구1
						$('#ZONE1_ONE').attr('value', data.sangse.ZONE1);	
							$('select[id=ZONE1_ONE]').val(data.sangse.ZONE1);
						// 지구2
						$('#ZONE2_ONE').attr('value', data.sangse.ZONE2);	
							$('select[id=ZONE2_ONE]').val(data.sangse.ZONE2);
						// 구역1
						$('#SCOPE1_ONE').attr('value', data.sangse.SCOPE1);	
							$('select[id=SCOPE1_ONE]').val(data.sangse.SCOPE1);
						// 구역2
						$('#SCOPE2_ONE').attr('value', data.sangse.SCOPE2);
							$('select[id=SCOPE2_ONE]').val(data.sangse.SCOPE2);
						// 수주구분1 필요
						// 수주구분2
						$('#BIZ_GBN_ONE').attr('value', data.sangse.BIZ_GBN);		
							$('select[id=BIZ_GBN_ONE]').val(data.sangse.BIZ_GBN);
						// 사업분류
						$('#BUILD_GB_ONE').attr('value', data.sangse.BUILD_GB);		
							$('select[id=BUILD_GB_ONE]').val(data.sangse.BUILD_GB);
						$('#PM_EMP_NO_ONE').empty();					// PM
						$('#PM_EMP_NO_ONE').attr('value', data.sangse.PM_EMP_NO);
						$('#PM_EMP_NO_NM_ONE').empty();					// PM 이름
						$('#PM_EMP_NO_NM_ONE').append(data.sangse.PM_EMP_NO_NM);
						$('#EMP_NO_ONE').empty();						// 관리임원
						$('#EMP_NO_ONE').attr('value', data.sangse.EMP_NO);
						$('#EMP_NO_NM_ONE').empty();						// 관리임원 이름
						$('#EMP_NO_NM_ONE').append(data.sangse.EMP_NO_NM);
						$('#MARKET_MAN_ONE').empty();					// 수주책임자
						$('#MARKET_MAN_ONE').attr('value', data.sangse.MARKET_MAN);
						$('#MARKET_MAN_NM_ONE').empty();					// 수주책임자 이름
						$('#MARKET_MAN_NM_ONE').append(data.sangse.MARKET_MAN_NM);
						$('#INFO_EMP_NO_ONE').empty();					// 정보취득자
						$('#INFO_EMP_NO_ONE').attr('value', data.sangse.INFO_EMP_NO);
						$('#INFO_EMP_NO_NM_ONE').empty();					// 정보취득자 이름
						$('#INFO_EMP_NO_NM_ONE').append(data.sangse.INFO_EMP_NO_NM);
						// 종료구분
						$('#PJT_E_GBN_ONE').attr('value', data.sangse.PJT_E_GBN);		
							$('select[id=PJT_E_GBN_ONE]').val(data.sangse.PJT_E_GBN);
						$('#PJT_E_DATE_ONE').empty();					// 계약일자
						$('#PJT_E_DATE_ONE').attr('value', data.sangse.INFO_EMP_NO);
						$('#BREAK_AMT_ONE').empty();					// 중도타절금액
						$('#BREAK_AMT_ONE').attr('value', data.sangse.BREAK_AMT);
						$('#PJT_NIC_ONE').empty();					// 프로젝트 별명
						$('#PJT_NIC_ONE').attr('value', data.sangse.PJT_NIC);
					} else {
						alert('용역계약서를 한 번도 작성하지 않았습니다. 입력버튼을 눌러 입력해주세요.');
						// 입력 데이터 초기화
						reset();
						// 수주심의결정서 상세
						pjtWriteBusi(PJT_CD);
					}
				},
				error:function(request, status, error) {
					alert(error + "에러입니다.");
				}
			});
		}
		
		// 발주처 리스트
		function pjtOwnerList(PJT_CD) {
			$.ajax({
				url:'/project/projectManageOwnerListProcess',
				type:'POST',
				data:{PJT_CD:PJT_CD},
				success:function(data) {
					$('#OWNER_LIST_ONE').empty();
					$(data).each((index, item) => {
						console.log(item);
						$('#OWNER_LIST_ONE').append('<tr><td></td><td>'+item.CUST_NM+'</td><td>'+item.CUST_GBN_NM+'</td><td>'+item.N_RATE+'</td><td>'+numberWithCommas(item.CONTRACT_AMT)+'</td><td><button type="button" class="btn" style="color:black" onclick="ownerDelBtn('+item.PJT_CD+','+item.CUST_CD+')">삭제</button></td></tr>');
					});
					$('#N_RATE_SUM').empty();						// 지분합계
					$('#N_RATE_SUM').append(data[0].N_RATE_SUM);
					$('#CONTRACT_AMT_SUM').empty();					// 금액합계
					$('#CONTRACT_AMT_SUM').append(numberWithCommas(data[0].CONTRACT_AMT_SUM));
				}
			});
		}
		
		// 기성단계 리스트
		function pjtGiseongList(PJT_CD) {
			$.ajax({
				url:'/project/projectManageGiseongListProcess',
				type:'POST',
				data:{PJT_CD:PJT_CD},
				success:function(data) {
					$('#GISEONG_LIST_ONE').empty();
					$(data).each((index, item) => {
						console.log(item);
						$('#GISEONG_LIST_ONE').append('<tr><td width="20%">'+item.RM_SEQ+'</td><td width="20%">'+item.RM_STEP_NM+'</td><td width="20%">'+item.SALE_STEP_NM+'</td><td width="20%">'+numberWithCommas(item.RM_AMT)+'</td><td width="20%">'+item.SUGUM_RATE+'</td><td><button type="button" class="btn" style="color:black" onclick="giseongDelBtn('+item.PJT_CD+','+item.RM_SEQ+')">삭제</button></td></tr>');
					});
					$('#RM_AMT_SUM').empty();						// 금액합계
					$('#RM_AMT_SUM').append(numberWithCommas(data[0].RM_AMT_SUM));
					$('#SUGUM_RATE_SUM').empty();					// 수금율합계
					$('#SUGUM_RATE_SUM').append(data[0].SUGUM_RATE_SUM);
				}
			});
		}
		
		// 선택한 발주처 삭제
		function ownerDelBtn(PJT_CD, CUST_CD) {
			console.log(PJT_CD);	// 프로젝트 코드
			console.log(CUST_CD);	// 발주처 코드
			$.ajax({
				url:'/project/projectManageOwnerDeleteProcess',
				type:'POST',
				data:{PJT_CD:PJT_CD, CUST_CD:CUST_CD},
				success:function(data) {
					alert("발주처 삭제 완료!");
					pjtOwnerList(PJT_CD);
				},
				error:function(request, status, error) {
					alert(error + "에러입니다.");
				}
			});
		}
		
		// 선택한 기성단계 삭제
		function giseongDelBtn(PJT_CD,RM_SEQ) {
			console.log(PJT_CD);	// 프로젝트 코드
			console.log(RM_SEQ);	// 기성단계 순번
			$.ajax({
				url:'/project/projectManageGiseongDeleteProcess',
				type:'POST',
				data:{PJT_CD:PJT_CD, RM_SEQ:RM_SEQ},
				success:function(data) {
					alert("기성단계 삭제 완료!");
					pjtGiseongList(PJT_CD);
				},
				error:function(request, status, error) {
					alert(error + "에러입니다.");
				}
			});
		}
		
		// 신규 용역계약서 작성시 수주심의결정서 상세를 출력
		function pjtWriteBusi(PJT_CD) {
			$.ajax({
				url:'/project/BusinessManageSangseProcess',
				type:'POST',
				data:{PJT_CD:PJT_CD},
				success:function(data){
					console.log(data);
					$('#PJT_CD_ONE').empty();			// 프로젝트 코드
					$('#PJT_CD_ONE').append(data.PJT_CD);
					$('#PJT_NM_ONE').empty();			// 프로젝트 명
					$('#PJT_NM_ONE').append(data.SVC);
					// 수행부서 코드
					$('#DEPT_CD_ONE').attr('value', data.DEPT_CD);
					$('select[id=DEPT_CD_ONE]').val(data.DEPT_CD);
					// 건축물 유형
					$('#BUILD_TYPE_ONE').attr('value', data.BUILD_TYPE);
						$('select[id=BUILD_TYPE_ONE]').val(data.BUILD_TYPE);
					$('#G_AREA_M_ONE').empty();			// 대지면적_M
					$('#G_AREA_M_ONE').attr('value', numberWithCommas(data.AREA_M));
					$('#G_AREA_P_ONE').empty();			// 대지면적_P
					$('#G_AREA_P_ONE').attr('value', numberWithCommas(data.AREA_P));
					$('#G_YAREA_M_ONE').empty();		// 연면적_M
					$('#G_YAREA_M_ONE').attr('value', numberWithCommas(data.YAREA_M));
					$('#G_YAREA_P_ONE').empty();		// 연면적_P
					$('#G_YAREA_P_ONE').attr('value', numberWithCommas(data.YAREA_P));
					// 대지위치
					$('#ZIP_CD_ONE').empty();						// 우편번호
					$('#ZIP_CD_ONE').attr('value', data.ZIP_CD);
					$('#PJT_ADDR_ONE').empty();						// 주소
					$('#PJT_ADDR_ONE').append(data.ADDR);
					// 지역1
					$('#REGION_ONE1').attr('value', data.REGION);
						$('select[id=REGION_ONE1]').val(data.REGION);	
					// 지역2
					$('#REGION2_ONE').attr('value', data.REGION2);
						$('select[id=REGION2_ONE]').val(data.REGION2);
					// 지구1
					$('#ZONE1_ONE').attr('value', data.ZONE1);	
						$('select[id=ZONE1_ONE]').val(data.ZONE1);
					// 지구2
					$('#ZONE2_ONE').attr('value', data.ZONE2);	
						$('select[id=ZONE2_ONE]').val(data.ZONE2);
					// 구역1
					$('#SCOPE1_ONE').attr('value', data.SCOPE1);	
						$('select[id=SCOPE1_ONE]').val(data.SCOPE1);
					// 구역2
					$('#SCOPE2_ONE').attr('value', data.SCOPE2);
						$('select[id=SCOPE2_ONE]').val(data.SCOPE2);
					// 수주구분1 필요s
					// 수주구분2
					$('#BIZ_GBN_ONE').attr('value', data.BIZ_GBN);		
						$('select[id=BIZ_GBN_ONE]').val(data.BIZ_GBN);
					// 사업분류
					$('#BUILD_GB_ONE').attr('value', data.BUILD_GB);		
					$('select[id=BUILD_GB_ONE]').val(data.BUILD_GB);
					$('#PM_EMP_NO_ONE').empty();					// PM
					$('#PM_EMP_NO_ONE').attr('value', data.PM_EMP_NO);
					$('#PM_EMP_NO_NM_ONE').empty();					// PM 이름
					$('#PM_EMP_NO_NM_ONE').append(data.PM_EMP_NO_NM);
					$('#EMP_NO_ONE').empty();						// 관리임원
					$('#EMP_NO_ONE').attr('value', data.EMP_NO);
					$('#EMP_NO_NM_ONE').empty();						// 관리임원 이름
					$('#EMP_NO_NM_ONE').append(data.EMP_NO_NM);
					$('#MARKET_MAN_ONE').empty();					// 수주책임자
					$('#MARKET_MAN_ONE').attr('value', data.MARKET_MAN);
					$('#MARKET_MAN_NM_ONE').empty();					// 수주책임자 이름
					$('#MARKET_MAN_NM_ONE').append(data.MARKET_MAN_NM);
					$('#INFO_EMP_NO_ONE').empty();					// 정보취득자
					$('#INFO_EMP_NO_ONE').attr('value', data.INFO_EMP_NO);
					$('#INFO_EMP_NO_NM_ONE').empty();					// 정보취득자 이름
					$('#INFO_EMP_NO_NM_ONE').append(data.INFO_EMP_NO_NM);
					$('#RM_AMT_SUM').empty();
					$('#RM_AMT_SUM').append("0");
					$('#TOT_CONTRACT_AMT_ONE').empty();
					$('#TOT_CONTRACT_AMT_ONE').attr('value', '0');// 당사 총계약액
				},
				error:function(request, status, error) {
					alert(error + "에러입니다.");
				}
			});
		}
		
		// 용역계약서를 한 번도 작성하지 않았을 때 수주심의 결정서를 기반으로 한 신규 용역계약서 작성
		function pjtWriteFirst(PJT_CD) {
			let CRT_DATE = $('#CRT_DATE_ONE').text();
			let CONTRACT_DATE = $('#CONTRACT_DATE').val();
			console.log(CONTRACT_DATE);
			/* let CONTRACT_PRI1,
			let CONTRACT_PRI2,
			let CONTRACT_PRI3,
			let DEPT_CD,
			let G_AREA_M,
			let G_AREA_P,
			let G_YAREA_M,
			let G_YAREA_P,
			let PYUNG_DAN,
			let BUILD_TYPE,
			let TOT_CONTRACT_AMT,
			let PJT_CONTRACT_AMT,
			let CHANGE_AMT,
			let BALANCE_AMT,
			let SURTAX,
			let DONG_SU,
			let HOUSE_SU,
			let B_UP_SU,
			let B_DOWN_SU,
			let BUILD_STRUCT,
			let ZIP_CD,
			let PJT_ADDR,
			let REGION,
			let REGION2,
			let ZONE1,
			let ZONE2,
			let SCOPE1,
			let SCOPE2,
			let BUILD_GB,
			let PM_EMP_NO,
			let EMP_NO,
			let MARKET_MAN,
			let INFO_EMP_NO,
			let PJT_E_GBN,
			let PJT_E_DATE,
			let BREAK_AMT,
			let PJT_NIC */
			/* $.ajax({
				url:'/project/projectManageWriteProcess',
				type:'POST',
				data:{PJT_CD:PJT_CD},
				success:function(data){
					console.log(data);
				},
				error:function(request, status, error) {
					alert(error + "에러입니다.");
				}
			}); */
		}
		
		// input 태그에서 엔터키 금지
		$('input[type="text"]').keydown((e)=>{
			if(e.keyCode == 13){
				e.preventDefault();
			}
		});
		
		// 프로젝트 리스트 조회
		function pjtSearch(PJT_CD, DEPT_CD, YEAR, pjtRadioValue) {
			$.ajax({
				// ajax로 "/project/projectManageListProcess" URI를 지정 POST방식으로 data를 보낸다.
				url:'/project/projectManageListProcess',
				type:'POST',
				data:{PJT_CD:PJT_CD, DEPT_CD:DEPT_CD, YEAR:YEAR, pjtRadioValue:pjtRadioValue},
				success:function(data){
					$('#pjtList').empty();
					$('#resultLength').empty();
					$(data).each((index,item) => {
						$('#pjtList').append('<tr><td style="background-color:#fff9df">'+item.PJT_CD+'</td><td onclick="pjtOneBtn('+item.PJT_CD+',&#39'+item.PJT_NM+'&#39)">'+item.PJT_NM+'</td></tr>');
					});
					$('#resultLength').append(data.length);
					pjtOneBtn(data[0].PJT_CD,data[0].PJT_NM);
				},
				error:function(request, status, error) {
					alert(error + "에러입니다.");
				}
			});
		}
		
		$(document).ready(function() {
			$('#reset').hide();
			$('#reset').click(function(){
				$('input[type="text"]').attr('value','');
			});
			//현재 날짜
			let date = new Date();
			var NOW_YEAR =date.getFullYear();
			var NOW_MONTH_0 = date.getMonth()+1;
			var ZERO = '0';
			var NOW_MONTH = ZERO+NOW_MONTH_0;
			var NOW_DAY = date.getDate();
			var NOW_DATE = NOW_YEAR+'-'+NOW_MONTH+'-'+NOW_DAY
			console.log('현재날짜 : '+NOW_DATE);
			$('#pjtYear').val(NOW_YEAR);
			// 용역계약서 입력을 위한 프로젝트 검색 부분
			// 필드로 입력받은 값들을 변수에 저장
			let PJT_CD = $('#PJT_CD_VAL').val();
			let DEPT_CD = $('#pjtDept').val();
			let YEAR = $('#pjtYear').val();
			let pjtRadioValue = $('input[name=pjtRadioValue]:checked', '#radioForm').val();
			pjtSearch(PJT_CD, DEPT_CD, YEAR, pjtRadioValue);
			// 조회 버튼 클릭시
			$('#search').click(function(){
				// 필드로 입력받은 값들을 변수에 저장
				let PJT_CD = $('#PJT_CD_VAL').val();
				let DEPT_CD = $('#pjtDept').val();
				let YEAR = $('#pjtYear').val();
				let pjtRadioValue = $('input[name=pjtRadioValue]:checked', '#radioForm').val();
				console.log(PJT_CD);
				console.log(DEPT_CD);
				console.log(YEAR);
				console.log(pjtRadioValue);
				// 프로젝트 리스트 조회
				pjtSearch(PJT_CD, DEPT_CD, YEAR, pjtRadioValue);
			});
			// 입력 버튼 클릭시
			$('#insert').click(() => {
				let PJT_CD = $('#PJT_CD_ONE').text();
				pjtWriteFirst(PJT_CD);
			});
			
			// 발주처 추가
			$('#ownerAddBtn').click(()=>{
				let PJT_CD = $('#PJT_CD_ONE').text();				// 프로젝트 코드
				let CUST_CD = $('#CUST_CD_VAL').val();				// 발주처
				let CUST_GBN = $("#CUST_GBN_VAL option:selected").val();	// 발주처 구분
				let N_RATE = $('#N_RATE_VAL').val();				// 지분
				let CONTRACT_AMT = $('#CONTRACT_AMT_VAL').val();	// 계약금액
				$.ajax({
					url:'/project/projectManageOwnerWriteProcess',
					type:'POST',
					data:{PJT_CD:PJT_CD, CUST_CD:CUST_CD, CUST_GBN:CUST_GBN, N_RATE:N_RATE, CONTRACT_AMT:CONTRACT_AMT},
					success:function(data){
						console.log(data);
						alert("발주처 추가 완료!");
						pjtOwnerList(PJT_CD);
					},
					error:function(request, status, error) {
						alert(error + "추가 실패");
					}
				});
			});
			
			// 기성단계 추가
			$('#giseongAddBtn').click(()=>{
				let PJT_CD = $('#PJT_CD_ONE').text();						// 프로젝트 코드
				let RM_STEP = $("#RM_STEP_VAL option:selected").val();		// 기성단계
				let SALE_STEP = $("#SALE_STEP_VAL option:selected").val();	// 단계
				let RM_AMT = $('#RM_AMT_VAL').val();						// 금액
				let SUGUM_RATE = $('#SUGUM_RATE_VAL').val();				// 수금율(%)
				let RM_AMT_SUM = $('#RM_AMT_SUM').text();					// 금액 합계
				let TOT_CONTRACT_AMT = $('#TOT_CONTRACT_AMT_ONE').val();	// 당사 총계약액
				console.log('금액 합계 : '+ RM_AMT_SUM+' 당사 총계약액 : '+TOT_CONTRACT_AMT);
				// 당사 총계약액보다 적을때
				if(RM_AMT_SUM<TOT_CONTRACT_AMT) {
					// 저장 가능
					// 당사 총계약액보다 많을때
					if((RM_AMT+RM_AMT_SUM)>TOT_CONTRACT_AMT) {
						alert("당사 총 계약액과 기성단계 합이 일치하지 않습니다.");
					} else {
						$.ajax({
							url:'/project/projectManageGiseongWriteProcess',
							type:'POST',
							data:{PJT_CD:PJT_CD, RM_STEP:RM_STEP, SALE_STEP:SALE_STEP, RM_AMT:RM_AMT, SUGUM_RATE:SUGUM_RATE},
							success:function(data){
								console.log(data);
								alert("기성단계 추가 완료!");
								pjtGiseongList(PJT_CD);
							},
							error:function(request, status, error) {
								alert(error + "추가 실패");
							}
						});
					}
				} else if(RM_AMT_SUM==TOT_CONTRACT_AMT) {
					// 불가능
					alert("당사 총 계약액과 기성단계 합이 일치하지 않습니다.");
				} else {
					// 불가능
					alert("당사 총 계약액과 기성단계 합이 일치하지 않습니다.");
				}
			});
			
			// 프로젝트 검색 모달
			$('#pjtSearchBtn').click(()=>{
    			let column = $('#selectedPjtItem option:selected').val();
    			let columnValue = $('#pjtValue').val();
    			console.log('검색 값 : ');
	    		console.log(columnValue);
	    		$.ajax({
					url:'/project/getProjectManageCodeListProcess',
				    type:'POST',
					data:{column:column, columnValue:columnValue},
					success:(data)=>{
						console.log(data);
						$('#pjtSearchList').empty();
						$(data).each((index, item) =>{
						$('#pjtSearchList').append('<tr onclick="modalPjtOneBtn('+item.PJT_CD+',&#39'+item.PJT_NM+'&#39)"><td>'+item.PJT_CD+'</td><td>'+item.PJT_NM+'</td></tr>');
						});
					}
	    		});
			});
			
			// 발주처 검색 모달
			$('#custSearchBtn').click(()=>{
    			let column = $('#selectedCustItem option:selected').val();
    			let columnValue = $('#custValue').val();
    			console.log('검색 값 : ');
	    		console.log(columnValue);
	    		$.ajax({
					url:'/project/projectManageCustSearchProcess',
				    type:'POST',
					data:{column:column, columnValue:columnValue},
					success:(data)=>{
						console.log(data);
						$('#custSearchList').empty();
						$(data).each((index, item) =>{
						$('#custSearchList').append('<tr onclick="modalCustOneBtn('+item.CUST_CD+',&#39'+item.CUST_NM+'&#39)"><td>'+item.CUST_CD+'</td><td>'+item.CUST_NM+'</td></tr>');
						});
					}
	    		});
			});
			
			// 부서 검색 모달
			$('#deptSearchBtn').click(()=> {
				let column = $('#selectedDeptItem option:selected').val();
    			let columnValue = $('#deptValue').val();
    			console.log('검색 값 : ');
	    		console.log(columnValue);
				$.ajax({
					url:'/project/projectManageDeptListProcess',
					type:'POST',
					data:{column:column, columnValue:columnValue},
					success:(data)=>{
						console.log(data);
						$('#deptModalList').empty();
						$(data).each((index, item) =>{
							$('#deptModalList').append('<tr onclick="modalDeptOneBtn('+item.DEPT_CD+',&#39'+item.DEPT_NM+'&#39)"><td>'+item.DEPT_CD+'</td><td>'+item.DEPT_NM+'</td></tr>');
						});
					}
				});
			});
			
			// 라디오버튼 선택시 프로젝트 리스트 조회
			$("input:radio[name=pjtRadioValue]").click(()=> {
				// 필드로 입력받은 값들을 변수에 저장
				let PJT_CD = $('#PJT_CD_VAL').val();
				let DEPT_CD = $('#pjtDept').val();
				let YEAR = $('#pjtYear').val();
				let pjtRadioValue = $('input[name=pjtRadioValue]:checked', '#radioForm').val();
				console.log(PJT_CD);
				console.log(DEPT_CD);
				console.log(YEAR);
				console.log(pjtRadioValue);
				pjtSearch(PJT_CD, DEPT_CD, YEAR, pjtRadioValue);
			});
		});
		</script>
	</th:block>
	<th:block layout:fragment="customBody">
	<div class="col-md-12 col-xs-12" style="color:black;">
    <div class="page-title">
	<div class="title_left">
	 <h2><b>용역계약서 입력</b></h2>
	<h5><font color="gray"><b>2.계약프로젝트 관리&nbsp;>&nbsp;&nbsp;2.1용역계약서 관리&nbsp;>&nbsp;&nbsp;2.1.1용역계약서 입력</b></font></h5>
	<span>
		1. 용역계약서를 입력할 프로젝트 검색 <br>
		2. 기본사항 및 세부사항 입력 후 저장 <br>
		3. 발주처 입력 후 저장 <br>
		4. 기성단계 입력 후 저장 <br>
		5. 용역계약서를 처음 입력할 경우 먼저 입력 버튼을 눌러 용역계약서 활성화 <br>
		6. 1~4와 같은 방식으로 입력 후 저장
	</span>			
	</div>
	</div>
    </div>
	
	<div class="x_content" style="text-align: right">
		<div class="btn-group" >
		<button class="btn btn-default" type="button" id="search">조회</button>
		<button class="btn btn-default" type="button" id="insert">입력</button>
		<button class="btn btn-default" type="button" disabled="disabled">수정</button>
		<button class="btn btn-default" type="button" disabled="disabled">삭제</button>
		<th:block th:if="${sangse}==null">
			<button class="btn btn-default" type="button" disabled="disabled">저장</button>
		</th:block>
		<th:block th:unless="${sangse}==null">
			<button class="btn btn-default" type="button">저장</button>
		</th:block>
		<button class="btn btn-default" type="button">출력</button>
		</div>
	</div>
	
		<!-- 검색부분 start -->
		<font color="black">
		<div class="col-md-3 col-sm-6 col-xs-12">
		<div class="x_panel">
		<div class="x_content" style="overflow:auto">
			<label for="ex3">검색조건</label><br>
			<table>
				<tr>
					<td>
						년도
					</td>
					<td>
						<input type="number" id="pjtYear" maxlength="2030">
					</td>
				</tr>
				<tr>
					<td>
						부서
					</td>
					<td>
						<select id="pjtDept">
							<option value="" selected="selected">전 사</option>
							<th:block th:each="d : ${dept}">
								<option th:value="${DEPT_CD}">[[${d.DEPT_NM}]]</option>
							</th:block>
						</select>
					</td>
				</tr>
				<tr>
					<td>
						코드명
					</td>
					<td colspan="2">
						<input type="text" id="PJT_CD_VAL" class="col-md-6 col-sm-12">
						<button type="button" data-toggle="modal" data-target=".bs-example-modal-lg1"><i class="fa fa-search"></i></button>
						<div id="PJT_NM_VAL"></div>
						<!------------------------------------------ 프로젝트 조회 modal--------------------------------------------------- -->
						<div class="modal fade bs-example-modal-lg1" tabindex="-1" role="dialog" aria-hidden="true">
							<div class="modal-dialog modal-lg">
								<div class="modal-content">
									<form class="form-horizontal ">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal" id="pjtModalExit"><span aria-hidden="true">×</span>
											</button>
											<h4 class="modal-title" id="myModalLabel"><b>프로젝트코드조회</b></h4><br>
											<div class="table-responsive">
												<table class="table table-bordered">
													<tbody>
														<tr>
															<td><label class="control-label">검색항목</label></td>
															<td>
																<select class="form-control" style="width: 40%" id="selectedPjtItem">
																	<option selected="selected" value="PJT_CD">프로젝트코드</option>
																	<option value="PJT_NM">프로젝트명</option>
																	<option value="DEPT_CD">부서코드</option>
																	<option value="DEPT_NM">부서명</option>
																</select>
															</td>
														</tr>
														<tr>
															<td><label class="control-label">검색조건</label></td>
															<td>
																<input type="text" id="pjtValue">
																<button type="button" id="pjtSearchBtn"><i class="fa fa-search"></i></button>																	
															</td>
														</tr>
													</tbody>																	
												</table>
											</div>
										</div>
										<div class="modal-body">
											<div class="table-responsive" style="overflow: auto; height: 400px;">
												<table class="table table-striped table-bordered table-hover">
													<thead>
														<tr>
															<th>프로젝트코드</th>
															<th>프로젝트명</th>
														</tr>
													</thead>
													<tbody id="pjtSearchList">
													</tbody>																	
												</table>
											</div>
										</div>
									</form>
								</div>
							</div>
						</div>
					</td>
				</tr>
			</table>
			<form id="radioForm">
			<table>
				<tr>
					<td>
						<input type="radio" name="pjtRadioValue" value="1" checked="checked">검토
					</td>
					<td>
						<input type="radio" name="pjtRadioValue" value="2">계약
					</td>
					<td>
						<input type="radio" name="pjtRadioValue" value="3">예산
					</td>
					<td>
						<input type="radio" name="pjtRadioValue" value="4">승인
					</td>
					<td>
						<input type="radio" name="pjtRadioValue" value="5">종료
					</td>
					<td>
						<input type="radio" name="pjtRadioValue" value="6">ALL
					</td>
				</tr>
			</table>
			</form>
			</div>
			</div>
			<!-- 검색부분 end -->
			<div class="x_panel">
		<div class="x_content" style="overflow:scroll; width:100%; height:700px; background-color:;">
			<div class="x_title"></div>
			<br>
			<!-- 결과부분 start -->
			<table class="table table-bordered table-hover jambo_table">
				<thead>
				<tr>
					<th width="30%">PJT코드</th>
					<th width="70%">프로젝트명</th>
				</tr>
				</thead>
				<tbody id="pjtList">
				</tbody>
				<tfoot>
					<tr>
						<td colspan="2" style="background-color:#ffeeaa">
							<b><span id="resultLength"></span></b>
						</td>
					</tr>
				</tfoot>
			</table>
			<!-- 결과부분 end -->
		</div>
		</div>
		</div>
		
		<!-- 프로젝트 start -->
		<form id="resetForm">
		<button type="reset" id="reset"></button>
		<font color="black">
		<div class="col-md-9 col-sm-6 col-xs-12">
		<div class="x_panel">
		<div class="x_content">
			<div class="" role="tabpanel" data-example-id="togglable-tabs">
					<ul id="myTab" class="nav nav-tabs bar_tabs" role="tablist">
						<li role="presentation" class="active">
						<a href="#tab_content1" id="home-tab" role="tab" data-toggle="tab" aria-expanded="true">기본사항</a></li>
						<li role="presentation" class="">
						<a href="#tab_content2" role="tab" id="profile-tab" data-toggle="tab" aria-expanded="false">세부사항</a></li>
					</ul>
					
					<!-- 프로젝트 정보 start -->
					<div class="col-md-12 col-sm-6 col-xs-12">
		<div class="x_panel">
			<div class="x_content">
					<label for="ex3">프로젝트 코드 : </label>
                    <label><span id="PJT_CD_ONE"></span></label>
                    <label for="ex4">프로젝트 명 : </label>
                    <label><span id="PJT_NM_ONE"></span></label>
                    <br>
					<span style="color:black" id="CRT_DATE_ONE"></span>
					<span style="color:black" id="PJT_SEQ_ONE"></span>
                    </div>
                    </div>
                    </div>
                    <!-- 프로젝트 정보 end -->
                    
	<div id="myTabContent" class="tab-content">
	<!-- 기본사항 start -->
	<div role="tabpanel" class="tab-pane fade active in" id="tab_content1" aria-labelledby="home-tab">

	<!-- 1 -->
	<div class="col-md-6 col-sm-6 col-xs-12">
		<div class="x_panel">
			<div class="x_content">
				<div class="form-inline">
	                  <div class="form-group">
	                    <label for="ex3">계약일자 </label>
	                    <input type="date" max="2020-12-31" id="CONTRACT_DATE_ONE">
	                  </div>
	                  <br>
	                  <div class="form-group">
	                    <label for="ex3">계약기간 </label>
	                    <input type="date" max="2020-12-31" id="CONTRACT_PRI1_ONE">
	                    ~
	                    <input type="date" max="2020-12-31" id="CONTRACT_PRI2_ONE">
	                    <select id="CONTRACT_PRI3_ONE">	              
	                    	<option selected="selected"></option>
	                    	<th:block th:each="c : ${code}">
	                    		<th:block th:if="${c.LEVEL1_CD}==130">
	                    			<option th:value="${c.LEVEL2_CD}">[[${c.LEVEL2_NM}]]</option>
	                    		</th:block>
	                    	</th:block>
	                    </select>
	                    <label for="ex3"> 까지</label>
	                  </div>
	                  <br>
	                  <div class="form-group">
	                  <label for="ex3">수행부서코드</label>
	                  <input type="text" id="DEPT_CD_ONE">
	                  <button type="button" data-toggle="modal" data-target=".bs-example-modal-lg2"><i class="fa fa-search"></i></button>
	                  <label id="DEPT_NM_ONE"></label>
	                  <!-- ====================================부서 조회 모달==================================== -->
	                  <div class="modal fade bs-example-modal-lg2" tabindex="-1" role="dialog" aria-hidden="true">
						<div class="modal-dialog modal-lg">
							<div class="modal-content">
								<form class="form-horizontal">
									<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" id="deptModalExit"><span aria-hidden="true">×</span>
									</button>
									<h4 class="modal-title" id="myModalLabel"><b>부서코드조회</b></h4><br>
									<div class="table-responsive">
										<table class="table table-bordered">
											<tbody>
												<tr>
													<td><label class="control-label">검색항목</label></td>
													<td>
														<select class="form-control" style="width: 40%" id="selectedDeptItem">
														<option value="DEPT_CD" selected="selected">부서코드</option>
														<option value="DEPT_NM">부서명</option>
														</select>
													</td>
												</tr>
												<tr>
													<td><label class="control-label">검색조건</label></td>
													<td>
														<input type="text" id="deptValue">
														<button type="button" id="deptSearchBtn"><i class="fa fa-search"></i></button>																	
													</td>
												</tr>
											</tbody>																	
										</table>
									</div>
								</div>
								<div class="modal-body">
									<div class="table-responsive" style="overflow: auto; height: 400px;">
										<table class="table table-striped table-bordered table-hover">
											<thead>
												<tr>
													<th>부서코드</th>
													<th>부서명칭</th>
												</tr>
											</thead>
												<tbody id="deptModalList">
												</tbody>																	
										</table>
									</div>
								</div>
								</form>
							</div>
							</div>
						</div>
	                  </div>
	                  <br>
	                  <div class="form-group">
	                  <label for="ex3">건축물유형</label>
	                  <select id="BUILD_TYPE_ONE">
	                  		<option selected="selected"></option>
	                    	<th:block th:each="c : ${code}">
	                    		<th:block th:if="${c.LEVEL1_CD}==170">
	                    			<option th:value="${c.LEVEL2_CD}">[[${c.LEVEL2_NM}]]</option>
	                    		</th:block>
	                    	</th:block>
	                  </select>
	                  </div>
	             </div>
			</div>
		</div>
	</div>
	
	<!-- 2 -->
	<div class="col-md-6 col-sm-6 col-xs-12">
		<div class="x_panel">
			<div class="x_content">
					  <label for="ex3">계약면적</label>
	                  <div class="form-group">
	                  	<label for="ex3">대지면적</label>
	                  	<input type="text" id="G_AREA_M_ONE" onkeyup='areaP()'>m²
	                  	<input type="text" id="G_AREA_P_ONE">평<br>
	                  	<br>
	                  	<label for="ex3">연 면 적</label>
	                  	<input type="text" id="G_YAREA_M_ONE" onkeyup='yareaP()'>m²
	                  	<input type="text" id="G_YAREA_P_ONE">평<br>
	                  	<br>
	                  	<label for="ex3">평당단가</label>
	                  	<input type="text" id="PYUNG_DAN_ONE">원
	                  </div>
                  </div>
                </div>
			</div>

	<!-- 발주처 start -->
	<div class="col-md-12 col-sm-6 col-xs-12">
	<div class="x_panel" style="overflow-x:auto">
    <div class="x_title">
    <label for="ex3"> 발주처</label>
      <div class="nav navbar-right panel_toolbox">
                    </div>
                  </div>
                  <div class="x_content">

                    <table class="table table-bordered table-hover jambo_table">
                    <thead>
                        <tr>
                          <th>순번</th>
                          <th>발주처</th>
                          <th>발주처구분</th>
                          <th>지분(%)</th>
                          <th>계약금액</th>
                          <th>추가/삭제</th>
                        </tr>
					</thead>
                        <tr>
                          <th scope="row">신규</th>
                          <td>
                          	<input type="text" class="col-md-9" id="CUST_NM_VAL">
                          	<input type="hidden" id="CUST_CD_VAL">
								<button type="button" data-toggle="modal" data-target=".bs-example-modal-lg3"><i class="fa fa-search"></i></button>
								<!------------------------------------------ 발주처 조회 modal--------------------------------------------------- -->
								<div class="modal fade bs-example-modal-lg3" tabindex="-1" role="dialog" aria-hidden="true">
									<div class="modal-dialog modal-lg">
										<div class="modal-content">
											<form class="form-horizontal ">
												<div class="modal-header">
													<button type="button" class="close" data-dismiss="modal" id="custModal"><span aria-hidden="true">×</span>
													</button>
													<h4 class="modal-title" id="myModalLabel"><b>발주처코드조회</b></h4><br>
													<div class="table-responsive">
														<table class="table table-bordered">
															<tbody>
																<tr>
																	<td><label class="control-label">검색항목</label></td>
																	<td>
																		<select class="form-control" style="width: 40%" id="selectedCustItem">
																			<option selected="selected"  value="CUST_CD">발주처코드</option>
																			<option value="CUST_NM">발주처명</option>
																		</select>
																	</td>
																</tr>
																<tr>
																	<td><label class="control-label">검색조건</label></td>
																	<td>
																		<input type="text" id="custValue">
																		<button type="button" id="custSearchBtn"><i class="fa fa-search"></i></button>																	
																	</td>
																</tr>
															</tbody>																	
														</table>
													</div>
												</div>
												<div class="modal-body">
													<div class="table-responsive" style="overflow: auto; height: 400px;">
														<table class="table table-striped table-bordered table-hover">
															<thead>
																<tr>
																	<th>발주처코드</th>
																	<th>발주처명</th>
																</tr>
															</thead>
															<tbody id="custSearchList">
															</tbody>																	
														</table>
													</div>
												</div>
											</form>
										</div>
									</div>
								</div>
                          </td>
                          <td>
                          	<select id="CUST_GBN_VAL" class="col-md-10">
                          		<option></option>
                          		<th:block th:each="c : ${code}">
	                    		<th:block th:if="${c.LEVEL1_CD}==200">
	                    			<option th:value="${c.LEVEL2_CD}">[[${c.LEVEL2_NM}]]</option>
	                    		</th:block>
	                    	</th:block>
                  			</select>
                          </td>
                          <td><input type="text" class="col-md-10" id="N_RATE_VAL"></td>
                          <td><input type="text" class="col-md-10" id="CONTRACT_AMT_VAL"></td>
                          <td><button type="button" class="btn" style="color:black" id="ownerAddBtn">추가</button></td>
                        </tr>
                        <tbody id="OWNER_LIST_ONE">
                   		</tbody>
                        <tr style="background-color:#ffeeaa">
                    		<th>합계</th>
                    		<th></th>
                    		<th ></th>
                    		<th><span id="N_RATE_SUM"></span></th>
                    		<th><span id="CONTRACT_AMT_SUM"></span></th>
                    		<th></th>
                    	</tr>
                   	</table>
	</div>
	</div>        
	</div>
	
	<!-- 기성단계 start -->
	<div class="col-md-12 col-sm-6 col-xs-12">
	<div class="x_panel" style="overflow-x:auto">
    <div class="x_title">
    	<label for="ex3">기성단계</label>
                  </div>
                  <div class="x_content">

                    <table class="table table-bordered table-hover jambo_table">
                      <thead>
                        <tr>
                          <th>순번</th>
                          <th>기성단계</th>
                          <th>단계</th>
                          <th>금액</th>
                          <th>수금율(%)</th>
                          <th>추가/삭제</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <th width="20%">신규</th>
                          <td>
                          	<select id="RM_STEP_VAL">
                          		<option></option>
		                    	<th:block th:each="c : ${code}">
	                    		<th:block th:if="${c.LEVEL1_CD}==150">
	                    			<option th:value="${c.LEVEL2_CD}">[[${c.LEVEL2_NM}]]</option>
	                    		</th:block>
	                    	</th:block>
                  			</select>
                          </td>
                          <td>
                          	<select id="SALE_STEP_VAL">
                          		<option></option>
		                    	<th:block th:each="c : ${code}">
	                    		<th:block th:if="${c.LEVEL1_CD}==110">
	                    			<option th:value="${c.LEVEL2_CD}">[[${c.LEVEL2_NM}]]</option>
	                    		</th:block>
	                    	</th:block>
                  			</select>
                          </td>
                          <td><input type="text" id="RM_AMT_VAL"></td>
                          <td><input type="text" id="SUGUM_RATE_VAL"></td>
                          <td><button type="button" class="btn" style="color:black" id="giseongAddBtn">추가</button></td>
                        </tr>
                        <tbody id="GISEONG_LIST_ONE">
                        </tbody>
                        <tr style="background-color:#ffeeaa">
                    		<th></th>
                    		<th></th>
                    		<th>합계</th>
                    		<th><span id="RM_AMT_SUM"></span></th>
                    		<th><span id="SUGUM_RATE_SUM"></span></th>
                    		<th></th>
                    	</tr>
					</table>
    </div>
    </div>
    </div>
    
    <!-- 대금지급조건 start -->
    <div class="col-md-12 col-sm-6 col-xs-12">
    <div class="x_panel">
   		<div class="form-group">
	    	<label for="ex3">대금지급조건 </label>
	    	<select>
	    		<option></option>
	    		<th:block th:each="c : ${code}">
		        	<th:block th:if="${c.LEVEL1_CD}==190">
		        		<option th:value="${c.LEVEL2_CD}">[[${c.LEVEL2_NM}]]</option>
		        	</th:block>
	        	</th:block>
	    	</select>
	      	<label for="ex3">어음일수 </label>
	        <input type="text">
		</div>
    </div>
	</div>
    
    <!-- 공동수급 start -->
	<div class="col-md-6 col-sm-6 col-xs-12">
	<div class="x_panel">
	<label for="ex3">◎ 공동수급</label><br>
		<table>
			<tr>
				<td width="40%">
					<label for="ex3">당사 총계약액 </label>
				</td>
				<td>
					<input type="text" id="TOT_CONTRACT_AMT_ONE">원
				</td>
			</tr>
			<tr>
				<td>
					<label for="ex3">PJT총계약액 </label>
				</td>
				<td>
					<input type="text" id="PJT_CONTRACT_AMT_ONE">원
				</td>
			</tr>
			<tr>
				<td>
					<label for="ex3">변경가감액 </label>
				</td>
				<td>
					<input type="text" id="CHANGE_AMT_ONE">원
				</td>
			</tr>
			<tr>
				<td>
					<label for="ex3">매출잔액 </label>
				</td>
				<td>
					<input type="text" id="BALANCE_AMT_ONE">원
				</td>
			</tr>
			<tr>
				<td>
					<label for="ex3">부가세 여부</label>
				</td>
				<td>
					<select id="SURTAX_ONE">
						<option selected="selected"></option>
						<th:block th:each="c : ${code}">
	                    	<th:block th:if="${c.LEVEL1_CD}==340">
	                    		<option th:value="${c.LEVEL2_CD}">[[${c.LEVEL2_NM}]]</option>
	                    	</th:block>
	                    </th:block>
					</select>
				</td>
			</tr>
		</table>
    </div>
	</div>
	
	<!-- 을의 수급지분 start -->
	<div class="col-md-6 col-sm-6 col-xs-12">
	<div class="x_panel">
	<label for="ex3">◎ 을의 수급지분</label><br>
		<table>
			<tr>
				<td width="10%">
					1)
				</td>
				<td width="30%">
					<input type="text">
				</td>
				<td width="10%">
					<button type="button" data-toggle="modal" data-target=".bs-example-modal-lg4"><i class="fa fa-search"></i></button>
					<!------------------------------------------ 을의 수급지분1 modal--------------------------------------------------- -->
						<div class="modal fade bs-example-modal-lg4" tabindex="-1" role="dialog" aria-hidden="true">
							<div class="modal-dialog modal-lg">
								<div class="modal-content">
									<form class="form-horizontal ">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal" id="pjtModal"><span aria-hidden="true">×</span>
											</button>
											<h4 class="modal-title" id="myModalLabel"><b>프로젝트코드조회</b></h4><br>
											<div class="table-responsive">
												<table class="table table-bordered">
													<tbody>
														<tr>
															<td><label class="control-label">검색항목</label></td>
															<td>
																<select class="form-control" style="width: 40%" id="selectedPjtItem">
																	<option selected="selected" value="PJT_CD">프로젝트코드</option>
																</select>
															</td>
														</tr>
														<tr>
															<td><label class="control-label">검색조건</label></td>
															<td>
																<input type="text" id="pjtValue">
																<button type="button" id="pjtSearchBtn"><i class="fa fa-search"></i></button>																	
															</td>
														</tr>
													</tbody>																	
												</table>
											</div>
										</div>
										<div class="modal-body">
											<div class="table-responsive" style="overflow: auto; height: 400px;">
												<table class="table table-striped table-bordered table-hover">
													<thead>
														<tr>
															<th>프로젝트코드</th>
															<th>프로젝트명</th>
														</tr>
													</thead>
													<tbody id="pjtSearchList">
													</tbody>																	
												</table>
											</div>
										</div>
									</form>
								</div>
							</div>
						</div>
				</td>
				<td width="20%">
					<input class="col-md-4 col-sm-6" type="text" value="0">%
				</td>
			</tr>
			<tr>
				<td colspan="4">
					<span></span>
				</td>
			</tr>
			<tr>
				<td>
					2)
				</td>
				<td>
					<input type="text">
				</td>
				<td>
				 <button type="button" data-toggle="modal" data-target=".bs-example-modal-lg5"><i class="fa fa-search"></i></button>
					<!------------------------------------------ 을의 수급지분2 modal--------------------------------------------------- -->
						<div class="modal fade bs-example-modal-lg5" tabindex="-1" role="dialog" aria-hidden="true">
							<div class="modal-dialog modal-lg">
								<div class="modal-content">
									<form class="form-horizontal ">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal" id="pjtModal"><span aria-hidden="true">×</span>
											</button>
											<h4 class="modal-title" id="myModalLabel"><b>프로젝트코드조회</b></h4><br>
											<div class="table-responsive">
												<table class="table table-bordered">
													<tbody>
														<tr>
															<td><label class="control-label">검색항목</label></td>
															<td>
																<select class="form-control" style="width: 40%" id="selectedPjtItem">
																	<option selected="selected" value="PJT_CD">프로젝트코드</option>
																</select>
															</td>
														</tr>
														<tr>
															<td><label class="control-label">검색조건</label></td>
															<td>
																<input type="text" id="pjtValue">
																<button type="button" id="pjtSearchBtn"><i class="fa fa-search"></i></button>																	
															</td>
														</tr>
													</tbody>																	
												</table>
											</div>
										</div>
										<div class="modal-body">
											<div class="table-responsive" style="overflow: auto; height: 400px;">
												<table class="table table-striped table-bordered table-hover">
													<thead>
														<tr>
															<th>프로젝트코드</th>
															<th>프로젝트명</th>
														</tr>
													</thead>
													<tbody id="pjtSearchList">
													</tbody>																	
												</table>
											</div>
										</div>
									</form>
								</div>
							</div>
						</div>
				</td>
				<td>
					<input class="col-md-4 col-sm-6" type="text" value="0">%
				</td>
			</tr>
			<tr>
				<td colspan="4">
					<span></span>
				</td>
			</tr>
			<tr>
				<td>
					3)
				</td>
				<td>
					<input type="text">
				</td>
				<td>
					<button type="button" data-toggle="modal" data-target=".bs-example-modal-lg6"><i class="fa fa-search"></i></button>
					<!------------------------------------------ 을의 수급지분3 modal--------------------------------------------------- -->
						<div class="modal fade bs-example-modal-lg6" tabindex="-1" role="dialog" aria-hidden="true">
							<div class="modal-dialog modal-lg">
								<div class="modal-content">
									<form class="form-horizontal ">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal" id="pjtModal"><span aria-hidden="true">×</span>
											</button>
											<h4 class="modal-title" id="myModalLabel"><b>프로젝트코드조회</b></h4><br>
											<div class="table-responsive">
												<table class="table table-bordered">
													<tbody>
														<tr>
															<td><label class="control-label">검색항목</label></td>
															<td>
																<select class="form-control" style="width: 40%" id="selectedPjtItem">
																	<option selected="selected" value="PJT_CD">프로젝트코드</option>
																</select>
															</td>
														</tr>
														<tr>
															<td><label class="control-label">검색조건</label></td>
															<td>
																<input type="text" id="pjtValue">
																<button type="button" id="pjtSearchBtn"><i class="fa fa-search"></i></button>																	
															</td>
														</tr>
													</tbody>																	
												</table>
											</div>
										</div>
										<div class="modal-body">
											<div class="table-responsive" style="overflow: auto; height: 400px;">
												<table class="table table-striped table-bordered table-hover">
													<thead>
														<tr>
															<th>프로젝트코드</th>
															<th>프로젝트명</th>
														</tr>
													</thead>
													<tbody id="pjtSearchList">
													</tbody>																	
												</table>
											</div>
										</div>
									</form>
								</div>
							</div>
						</div>
				</td>
				<td>
					<input class="col-md-4 col-sm-6" type="text" value="0">%
				</td>
			</tr>
			<tr>
				<td colspan="4">
					<span></span>
				</td>
			</tr>
		</table>
    </div>
    <span>공동수급일경우에만 수급지분을 입력하세요.</span>
	</div>
	</div>
	<!-- 기본사항 end -->
	
	<!-- 세부사항 start  -->
	<div role="tabpanel" class="tab-pane fade" id="tab_content2" aria-labelledby="profile-tab">
	<div class="col-md-12 col-sm-6 col-xs-12">
	<div class="x_panel" style="overflow-x:auto">
	<div class="x_title">
		<label for="ex3">프로젝트 총계약액</label>
		<span style="color:black" id="PJT_CONTRACT_AMT_ONE_SEBU"></span>
		<span style="color:black">원</span>
		<button type="button">직접 계약서 입력</button>
		</div>
		<label for="ex3">◎ 건축물규모</label><br>
		<table>
			<tr>
				<td width="10%">동수</td>
				<td width="10%"><input class="col-md-6" type="text" value="0" id="DONG_SU_ONE"></td>
				<td width="10%">세대수</td>
				<td width="10%"><input class="col-md-6" type="text" value="0" id="HOUSE_SU_ONE"></td>
				<td width="10%">지상층수</td>
				<td width="10%"><input class="col-md-6" type="text" value="0" id="B_UP_SU_ONE"></td>
				<td width="10%">지하층수</td>
				<td width="10%"><input class="col-md-6" type="text" value="0" id="B_DOWN_SU_ONE"></td>
				<td width="10%">건축물구조</td>
				<td width="10%">
				<select id="BUILD_STRUCT_ONE">
					<option></option>
					<th:block th:each="c : ${code}">
	                    <th:block th:if="${c.LEVEL1_CD}==310">
	                    	<option th:value="${c.LEVEL2_CD}">[[${c.LEVEL2_NM}]]</option>
	                	</th:block>
	            	</th:block>
				</select>
				</td>
			</tr>
		</table>
		<br>
		<label for="ex3">◎ 대지위치</label><br>
		<table>
			<tr>
				<td width="12%">
				</td>
				<td colspan="6">
					<input type="text" id="ZIP_CD_ONE" class="col-md-3">
					<button type="button" onclick="sample6_execDaumPostcode()"><i class="fa fa-search"></i></button>
					<input type="hidden" id="sample6_detailAddress" placeholder="상세주소">
					<input type="hidden" id="sample6_extraAddress" placeholder="참고항목">
					<span id="PJT_ADDR_ONE"></span>
				</td>
			</tr>
			<tr>
				<td>
					지역
				</td>
				<td>
					<select id="REGION_ONE1">
						<option selected="selected"></option>
						<th:block th:each="c : ${code}">
	                    	<th:block th:if="${c.LEVEL1_CD}==320">
	                    		<option th:value="${c.LEVEL2_CD}">[[${c.LEVEL2_NM}]]</option>
	                    	</th:block>
	                    </th:block>
					</select>
				</td>
				<td width="10%">
					지구
				</td>
				<td>
					<select id="ZONE1_ONE">
						<option></option>
						<th:block th:each="c : ${code}">
	                    	<th:block th:if="${c.LEVEL1_CD}==330">
	                    		<option th:value="${c.LEVEL2_CD}">[[${c.LEVEL2_NM}]]</option>
	                    	</th:block>
	                    </th:block>
					</select>
				</td>
				<td width="10%">
					구역
				</td>
				<td>
					<select id="SCOPE1_ONE">
						<option></option>
						<th:block th:each="c : ${code}">
	                    	<th:block th:if="${c.LEVEL1_CD}==331">
	                    		<option th:value="${c.LEVEL2_CD}">[[${c.LEVEL2_NM}]]</option>
	                    	</th:block>
	                    </th:block>
					</select>
				</td>
			</tr>
			<tr>
				<td></td>
				<td>
					<select id="REGION2_ONE">
						<option></option>
						<th:block th:each="c : ${code}">
	                    	<th:block th:if="${c.LEVEL1_CD}==320">
	                    		<option th:value="${c.LEVEL2_CD}">[[${c.LEVEL2_NM}]]</option>
	                    	</th:block>
	                    </th:block>
					</select>
				</td>
				<td></td>
				<td>
					<select id="ZONE2_ONE">
						<option></option>
						<th:block th:each="c : ${code}">
	                    	<th:block th:if="${c.LEVEL1_CD}==330">
	                    		<option th:value="${c.LEVEL2_CD}">[[${c.LEVEL2_NM}]]</option>
	                    	</th:block>
	                    </th:block>
					</select>
				</td>
				<td></td>
				<td>
					<select id="SCOPE2_ONE">
						<option></option>
						<th:block th:each="c : ${code}">
	                    	<th:block th:if="${c.LEVEL1_CD}==331">
	                    		<option th:value="${c.LEVEL2_CD}">[[${c.LEVEL2_NM}]]</option>
	                    	</th:block>
	                    </th:block>
					</select>
				</td>
			</tr>
			<tr>
				<td colspan="6">
					<br>
				</td>
			</tr>
			<tr>
				<td>수주구분</td>
				<td>
					<select class="col-md-10">
						<option></option>
						<th:block th:each="c : ${code}">
	                    	<th:block th:if="${c.LEVEL1_CD}==272">
	                    		<option th:value="${c.LEVEL2_CD}">[[${c.LEVEL2_NM}]]</option>
	                    	</th:block>
	                    </th:block>
					</select>
				</td>
				<td colspan="2">
					<select id="BIZ_GBN_ONE" class="col-md-10">
						<option></option>
						<th:block th:each="c : ${code}">
	                    	<th:block th:if="${c.LEVEL1_CD}==270">
	                    		<option th:value="${c.LEVEL2_CD}">[[${c.LEVEL2_NM}]]</option>
	                    	</th:block>
	                    </th:block>
					</select>
				</td>
			</tr>
			<tr>
				<td>사업분류</td>
				<td colspan="2">
					<select id="BUILD_GB_ONE" class="col-md-10">
						<option></option>
						<th:block th:each="c : ${code}">
	                    	<th:block th:if="${c.LEVEL1_CD}==171">
	                    		<option th:value="${c.LEVEL2_CD}">[[${c.LEVEL2_NM}]]</option>
	                    	</th:block>
	                    </th:block>
					</select>
				</td>
			</tr>
			<tr>
				<td>계약종류</td>
				<td colspan="2">
					<select class="col-md-10">
						<option>원계약</option>
					</select>
				</td>
			</tr>
		</table>	
	</div>
	</div>
	
	<div class="col-md-6 col-sm-6 col-xs-12">
	<div class="x_panel">
		<label for="ex3">◎ 담당자</label>
		<table>
			<tr>
				<td width="30%">
				 	PM
				</td>
				<td width="30%">
					<input type="text" id="PM_EMP_NO_ONE">
				</td>
				<td width="10%">
				 	<button type="button" data-toggle="modal" data-target=".bs-example-modal-lg7"><i class="fa fa-search"></i></button>
				 	<!------------------------------------------ PM 조회 modal--------------------------------------------------- -->
						<div class="modal fade bs-example-modal-lg7" tabindex="-1" role="dialog" aria-hidden="true">
							<div class="modal-dialog modal-lg">
								<div class="modal-content">
									<form class="form-horizontal">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal" id="empModalExit1"><span aria-hidden="true">×</span>
											</button>
											<h4 class="modal-title" id="myModalLabel"><b>직원조회</b></h4><br>
											<div class="table-responsive">
												<table class="table table-bordered">
													<tbody>
														<tr>
															<td><label class="control-label">구분</label></td>
															<td>
																<select class="form-control" style="width: 40%" id="empGbn">
																	<option value="PJT_CD" selected="selected" >재직자</option>
																	<option value="PJT_CD">퇴직자</option>
																</select>
															</td>
														</tr>
														<tr>
															<td><label class="control-label">검색항목</label></td>
															<td>
																<select class="form-control" style="width: 40%" id="empItem">
																	<option value="PJT_CD" selected="selected" >성명</option>
																	<option value="PJT_CD">사번</option>
																	<option value="PJT_CD">부서명</option>
																	<option value="PJT_CD">직급명</option>
																</select>
															</td>
														</tr>
														<tr>
															<td><label class="control-label">검색조건</label></td>
															<td>
																<input type="text" id="pjtValue">
																<button type="button" id="empSearchBtn"><i class="fa fa-search"></i></button>																	
															</td>
														</tr>
													</tbody>																	
												</table>
											</div>
										</div>
										<div class="modal-body">
											<div class="table-responsive" style="overflow: auto; height: 400px;">
												<table class="table table-striped table-bordered table-hover">
													<thead>
														<tr>
															<th>사원번호</th>
															<th>성명</th>
															<th>부서명</th>
															<th>직급명</th>
														</tr>
													</thead>
													<tbody id="empSearchList">
													</tbody>																	
												</table>
											</div>
										</div>
									</form>
								</div>
							</div>
						</div>
				</td>
				<td width="30%">
					<span id="PM_EMP_NO_NM_ONE"></span>
				</td>
			</tr>
			<tr>
				<td>
				 	관리임원
				</td>
				<td>
					<input type="text" id="EMP_NO_ONE">
				</td>
				<td>
				 	<button type="button" data-toggle="modal" data-target=".bs-example-modal-lg8"><i class="fa fa-search"></i></button>
				 	<!------------------------------------------ 관리임원 조회 modal--------------------------------------------------- -->
						<div class="modal fade bs-example-modal-lg8" tabindex="-1" role="dialog" aria-hidden="true">
							<div class="modal-dialog modal-lg">
								<div class="modal-content">
									<form class="form-horizontal">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal" id="empModalExit2"><span aria-hidden="true">×</span>
											</button>
											<h4 class="modal-title" id="myModalLabel"><b>직원조회</b></h4><br>
											<div class="table-responsive">
												<table class="table table-bordered">
													<tbody>
														<tr>
															<td><label class="control-label">검색항목</label></td>
															<td>
																<select class="form-control" style="width: 40%" id="selectedPjtItem">
																	<option selected="selected" value="PJT_CD">프로젝트코드</option>
																</select>
															</td>
														</tr>
														<tr>
															<td><label class="control-label">검색조건</label></td>
															<td>
																<input type="text" id="pjtValue">
																<button type="button" id="pjtSearchBtn"><i class="fa fa-search"></i></button>																	
															</td>
														</tr>
													</tbody>																	
												</table>
											</div>
										</div>
										<div class="modal-body">
											<div class="table-responsive" style="overflow: auto; height: 400px;">
												<table class="table table-striped table-bordered table-hover">
													<thead>
														<tr>
															<th>프로젝트코드</th>
															<th>프로젝트명</th>
														</tr>
													</thead>
													<tbody id="pjtSearchList">
													</tbody>																	
												</table>
											</div>
										</div>
									</form>
								</div>
							</div>
						</div>
				</td>
				<td>
					<span id="EMP_NO_NM_ONE"></span>
				</td>
			</tr>
			<tr>
				<td>
				 	수주책임자
				</td>
				<td>
					<input type="text" id="MARKET_MAN_ONE">
				</td>
				<td>
				 	<button type="button" data-toggle="modal" data-target=".bs-example-modal-lg9"><i class="fa fa-search"></i></button>
				 	<!------------------------------------------ 수주책임자 조회 modal--------------------------------------------------- -->
						<div class="modal fade bs-example-modal-lg9" tabindex="-1" role="dialog" aria-hidden="true">
							<div class="modal-dialog modal-lg">
								<div class="modal-content">
									<form class="form-horizontal">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal" id="empModalExit3"><span aria-hidden="true">×</span>
											</button>
											<h4 class="modal-title" id="myModalLabel"><b>직원조회</b></h4><br>
											<div class="table-responsive">
												<table class="table table-bordered">
													<tbody>
														<tr>
															<td><label class="control-label">검색항목</label></td>
															<td>
																<select class="form-control" style="width: 40%" id="selectedPjtItem">
																	<option selected="selected" value="PJT_CD">프로젝트코드</option>
																</select>
															</td>
														</tr>
														<tr>
															<td><label class="control-label">검색조건</label></td>
															<td>
																<input type="text" id="pjtValue">
																<button type="button" id="pjtSearchBtn"><i class="fa fa-search"></i></button>																	
															</td>
														</tr>
													</tbody>																	
												</table>
											</div>
										</div>
										<div class="modal-body">
											<div class="table-responsive" style="overflow: auto; height: 400px;">
												<table class="table table-striped table-bordered table-hover">
													<thead>
														<tr>
															<th>프로젝트코드</th>
															<th>프로젝트명</th>
														</tr>
													</thead>
													<tbody id="pjtSearchList">
													</tbody>																	
												</table>
											</div>
										</div>
									</form>
								</div>
							</div>
						</div>
				</td>
				<td>
					<span id="MARKET_MAN_NM_ONE"></span>
				</td>
			</tr>
			<tr>
				<td>
				 	정보취득자
				</td>
				<td width="30%">
					<input type="text" id="INFO_EMP_NO_ONE">
				</td>
				<td width="25%">
				 	<button type="button" data-toggle="modal" data-target=".bs-example-modal-lg10"><i class="fa fa-search"></i></button>
				 	<!------------------------------------------ 정보취득자 조회 modal--------------------------------------------------- -->
						<div class="modal fade bs-example-modal-lg10" tabindex="-1" role="dialog" aria-hidden="true">
							<div class="modal-dialog modal-lg">
								<div class="modal-content">
									<form class="form-horizontal">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal" id="empModalExit4"><span aria-hidden="true">×</span>
											</button>
											<h4 class="modal-title" id="myModalLabel"><b>직원조회</b></h4><br>
											<div class="table-responsive">
												<table class="table table-bordered">
													<tbody>
														<tr>
															<td><label class="control-label">검색항목</label></td>
															<td>
																<select class="form-control" style="width: 40%" id="selectedPjtItem">
																	<option selected="selected" value="PJT_CD">프로젝트코드</option>
																</select>
															</td>
														</tr>
														<tr>
															<td><label class="control-label">검색조건</label></td>
															<td>
																<input type="text" id="pjtValue">
																<button type="button" id="pjtSearchBtn"><i class="fa fa-search"></i></button>																	
															</td>
														</tr>
													</tbody>																	
												</table>
											</div>
										</div>
										<div class="modal-body">
											<div class="table-responsive" style="overflow: auto; height: 400px;">
												<table class="table table-striped table-bordered table-hover">
													<thead>
														<tr>
															<th>프로젝트코드</th>
															<th>프로젝트명</th>
														</tr>
													</thead>
													<tbody id="pjtSearchList">
													</tbody>																	
												</table>
											</div>
										</div>
									</form>
								</div>
							</div>
						</div>
				</td>
				<td>
					<span id="INFO_EMP_NO_NM_ONE"></span>
				</td>
			</tr>
			<tr>
				<td>
					종료구분
				</td>
				<td>
					<select id="PJT_E_GBN_ONE" class="col-md-12">
						<option></option>
						<th:block th:each="c : ${code}">
	                    	<th:block th:if="${c.LEVEL1_CD}==25A">
	                    		<option th:value="${c.LEVEL2_CD}">[[${c.LEVEL2_NM}]]</option>
	                    	</th:block>
	                    </th:block>
					</select>
				</td>
				<td></td>
			</tr>
			<tr>
				<td>
					계약일자
				</td>
				<td>
					<input id="PJT_E_DATE_ONE" class="col-md-12" type="date">
				</td>
				<td></td>
			</tr>
			<tr>
				<td>
					중도타절금액
				</td>
				<td>
					<input id="BREAK_AMT_ONE" class="col-md-10" type="text">원
				</td>
				<td></td>
			</tr>
		</table>
	</div>
	</div>
	
	<div class="col-md-6 col-sm-6 col-xs-12">
	<div class="x_panel">
		<label for="ex3">원PJT코드</label>
		<button>원PJT코드 입력</button><br>
		<div></div><br>
		<label for="ex3">특기사항</label>
		<textarea rows="10" cols="50"></textarea><br>
		<label for="ex3">프로젝트별명</label>
		<input type="text" id="PJT_NIC_ONE"><br>
		<label for="ex3">첨부파일</label>
	</div>
	</div>
	</div>	
	
	
	<!-- Tap end -->
			</div>
			</div>
			</div>
			</div>
			</div>
			</font>
			</form>
		<!-- 프로젝트 end -->
		</font>
	</th:block>
	<th:block layout:fragment="customJquery">
		<th:block th:include="layout/customJquery"></th:block>
		
    </th:block>
</html>